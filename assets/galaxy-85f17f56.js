import{p as d}from"./p5.min-f3c7c398.js";import{_ as c,o as m,c as f,i as u}from"./index-dfecc3a6.js";class r{constructor(e){this.p=e,this.x=e.random(0,e.width),this.y=e.random(0,e.height),this.r=e.random(13,20),this.xSpeed=e.random(-2,2),this.ySpeed=e.random(-1,1.5),this.color="rgba(200,169,169,0.5)"}createParticle(){this.p.noStroke(),this.p.fill(this.color),this.p.circle(this.x,this.y,this.r*2)}moveParticle(){(this.x<0||this.x>this.p.width)&&(this.xSpeed*=-1),(this.y<0||this.y>this.p.height)&&(this.ySpeed*=-1),this.x+=this.xSpeed,this.y+=this.ySpeed}checkCollision(e){for(let s=0;s<e.length;s++){let t=this.p.dist(this.x,this.y,e[s].x,e[s].y),n=this.r+e[s].r;t<n&&t>0&&this.handleCollision(e[s],e)}}handleCollision(e,s){if(this.color==="blue"&&e.color==="blue")this.mergeBalls(e,s,"orange");else if(this.color==="orange"&&e.color==="orange"){for(let t=0;t<s.length;t++)if(s[t].color==="orange"&&s[t]!==this&&s[t]!==e){this.mergeBalls(e,s,"default",s[t]);break}}}mergeBalls(e,s,t,n=null){let o=this.r+e.r;h.r=o,n&&(newDiameter+=n.r);let l=(this.x+e.x)/2,a=(this.y+e.y)/2;s.splice(s.indexOf(this),1),s.splice(s.indexOf(e),1),n&&s.splice(s.indexOf(n),1);let h=new r(this.p);h.x=l,h.y=a,h.r=newDiameter,t==="default"?h.color="rgba(200,169,169,0.5)":h.color=t,s.push(h)}}class x{constructor(e,s,t){this.p=e,this.x=s,this.y=t,this.r=e.random(1,3),this.xSpeed=e.random(-3,3),this.ySpeed=e.random(-3,3),this.alpha=255}createParticle(){let e=this.p.map(this.alpha,255,0,255,0),s=this.p.map(this.alpha,255,127,165,0),t=this.p.map(this.alpha,255,0,this.r*2,this.r);this.p.noStroke(),this.p.fill(e,s,0,this.alpha),this.p.circle(this.x,this.y,t)}moveParticle(){this.x+=this.xSpeed,this.y+=this.ySpeed,this.alpha-=5,this.alpha<0&&(this.alpha=0)}}function y(i,e,s){let t=50,n=50;for(let o=0;o<e.length;o++){let l=i.dist(i.mouseX,i.mouseY,e[o].x,e[o].y);if(l<t){let a=i.atan2(e[o].y-i.mouseY,e[o].x-i.mouseX),h=i.map(l,0,t,5,0);e[o].color="rgba(255,0,0,0.5)",e[o].xSpeed+=h*i.cos(a),e[o].ySpeed+=h*i.sin(a)}}for(let o=0;o<n;o++)s.push(new x(i,i.mouseX,i.mouseY))}const g={data(){return{p5Instance:null}},mounted(){this.p5Instance=new d(this.sketch,this.$refs.scene)},beforeDestroy(){this.p5Instance.remove()},methods:{sketch(i){let e=[],s=[];i.setup=()=>{i.createCanvas(i.windowWidth,i.windowHeight);for(let t=0;t<i.width/10;t++)e.push(new r(i))},i.draw=()=>{i.background("#000");for(let t=0;t<e.length;t++)e[t].createParticle(),e[t].moveParticle(),e[t].checkCollision(e.slice(t+1));for(let t=s.length-1;t>=0;t--)s[t].createParticle(),s[t].moveParticle(),s[t].alpha<=0&&s.splice(t,1)},i.mousePressed=()=>{y(i,e,s)}}}};function w(i,e,s,t,n,o){return m(),f("div",{ref:"scene",onContextmenu:e[0]||(e[0]=u(()=>{},["prevent"])),class:"relative"},null,544)}const S=c(g,[["render",w],["__scopeId","data-v-191c50e5"]]);export{S as default};
