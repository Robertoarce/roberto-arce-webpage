import{_ as d,g as c,o as u,c as m,j as f}from"./index-46c39dc9.js";class r{constructor(e){this.p=e,this.x=e.random(0,e.width),this.y=e.random(0,e.height),this.r=e.random(13,20),this.xSpeed=e.random(-2,2),this.ySpeed=e.random(-1,1.5),this.color="rgba(200,169,169,0.5)"}createParticle(){this.p.noStroke(),this.p.fill(this.color),this.p.circle(this.x,this.y,this.r*2)}moveParticle(){(this.x<0||this.x>this.p.width)&&(this.xSpeed*=-1),(this.y<0||this.y>this.p.height)&&(this.ySpeed*=-1),this.x+=this.xSpeed,this.y+=this.ySpeed}checkCollision(e){for(let t=0;t<e.length;t++){let s=this.p.dist(this.x,this.y,e[t].x,e[t].y),n=this.r+e[t].r;s<n&&s>0&&this.handleCollision(e[t],e)}}handleCollision(e,t){if(this.color==="blue"&&e.color==="blue")this.mergeBalls(e,t,"orange");else if(this.color==="orange"&&e.color==="orange"){for(let s=0;s<t.length;s++)if(t[s].color==="orange"&&t[s]!==this&&t[s]!==e){this.mergeBalls(e,t,"default",t[s]);break}}}mergeBalls(e,t,s,n=null){let o=this.r+e.r;h.r=o,n&&(newDiameter+=n.r);let l=(this.x+e.x)/2,a=(this.y+e.y)/2;t.splice(t.indexOf(this),1),t.splice(t.indexOf(e),1),n&&t.splice(t.indexOf(n),1);let h=new r(this.p);h.x=l,h.y=a,h.r=newDiameter,s==="default"?h.color="rgba(200,169,169,0.5)":h.color=s,t.push(h)}}class x{constructor(e,t,s){this.p=e,this.x=t,this.y=s,this.r=e.random(1,3),this.xSpeed=e.random(-3,3),this.ySpeed=e.random(-3,3),this.alpha=255}createParticle(){let e=this.p.map(this.alpha,255,0,255,0),t=this.p.map(this.alpha,255,127,165,0),s=this.p.map(this.alpha,255,0,this.r*2,this.r);this.p.noStroke(),this.p.fill(e,t,0,this.alpha),this.p.circle(this.x,this.y,s)}moveParticle(){this.x+=this.xSpeed,this.y+=this.ySpeed,this.alpha-=5,this.alpha<0&&(this.alpha=0)}}function y(i,e,t){let s=50,n=50;for(let o=0;o<e.length;o++){let l=i.dist(i.mouseX,i.mouseY,e[o].x,e[o].y);if(l<s){let a=i.atan2(e[o].y-i.mouseY,e[o].x-i.mouseX),h=i.map(l,0,s,5,0);e[o].color="rgba(255,0,0,0.5)",e[o].xSpeed+=h*i.cos(a),e[o].ySpeed+=h*i.sin(a)}}for(let o=0;o<n;o++)t.push(new x(i,i.mouseX,i.mouseY))}const g={data(){return{p5Instance:null}},async mounted(){const e=(await c(()=>import("./p5.min-375de4ec.js").then(t=>t.p),[])).default;this.p5Instance=new e(this.sketch,this.$refs.scene)},beforeDestroy(){this.p5Instance.remove()},methods:{sketch(i){let e=[],t=[];i.setup=()=>{i.createCanvas(i.windowWidth,i.windowHeight);for(let s=0;s<i.width/10;s++)e.push(new r(i))},i.draw=()=>{i.background("#000");for(let s=0;s<e.length;s++)e[s].createParticle(),e[s].moveParticle(),e[s].checkCollision(e.slice(s+1));for(let s=t.length-1;s>=0;s--)t[s].createParticle(),t[s].moveParticle(),t[s].alpha<=0&&t.splice(s,1)},i.mousePressed=()=>{y(i,e,t)}}}};function _(i,e,t,s,n,o){return u(),m("div",{ref:"scene",onContextmenu:e[0]||(e[0]=f(()=>{},["prevent"])),class:"relative"},null,544)}const p=d(g,[["render",_],["__scopeId","data-v-04b20576"]]);export{p as default};
