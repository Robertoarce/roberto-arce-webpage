import{p as h}from"./p5.min-f3c7c398.js";import{_ as r,o as c,c as n}from"./index-d0a17571.js";const d={data(){return{p5Instance:null,balls:[],max_balls:20}},mounted(){this.p5Instance=new h(this.sketch,this.$refs.canvasContainer)},beforeDestroy(){this.p5Instance.remove()},methods:{sketch(i){i.setup=()=>{i.createCanvas(i.windowWidth,i.windowHeight*.92);for(let s=0;s<20;s++)this.balls.push(new p(i,i.random(i.width),i.random(i.height),i.random(2,50)))},i.draw=()=>{i.background(255);for(let s=0;s<this.balls.length;s++){for(let t=s+1;t<this.balls.length;t++){let e=this.balls[s].calculateGravityForce(this.balls[t]);this.balls[t].applyForce(e),this.balls[s].checkCollision(this.balls[t])}this.balls[s].update(),this.balls[s].checkEdges(),this.balls[s].display()}},i.mousePressed=()=>{for(let s of this.balls)s.clicked(i.mouseX,i.mouseY)},i.mouseReleased=()=>{for(let s of this.balls)s.stopDragging()}}}};class p{constructor(s,t,e,o){this.p=s,this.pos=s.createVector(t,e),this.vel=s.createVector(0,0),this.acc=s.createVector(0,0),this.r=o,this.mass=Math.PI*this.r*this.r,this.color=s.color(s.random(255),s.random(255),s.random(255)),this.dragging=!1,this.rollover=!1,this.offsetX=0,this.offsetY=0}applyForce(s){let t=s.copy();t.div(this.mass),this.acc.add(t)}calculateGravityForce(s){let t=h.Vector.sub(this.pos,s.pos),e=this.p.constrain(t.mag(),5,25);t.normalize();let o=.001*this.mass*s.mass/(e*e);return t.mult(o),t}update(){this.dragging&&(this.pos.x=this.p.mouseX+this.offsetX,this.pos.y=this.p.mouseY+this.offsetY),this.vel.add(this.acc),this.pos.add(this.vel),this.acc.set(0,0)}checkEdges(){this.pos.x>this.p.width-this.r?(this.pos.x=this.p.width-this.r,this.vel.x*=-1,this.changeColor()):this.pos.x<this.r&&(this.pos.x=this.r,this.vel.x*=-1,this.changeColor()),this.pos.y>this.p.height-this.r?(this.pos.y=this.p.height-this.r,this.vel.y*=-1,this.changeColor()):this.pos.y<this.r&&(this.pos.y=this.r,this.vel.y*=-1,this.changeColor())}changeColor(){this.color=this.p.color(this.p.random(255),this.p.random(255),this.p.random(255))}display(){this.p.fill(this.color),this.p.ellipse(this.pos.x,this.pos.y,this.r*2,this.r*2)}clicked(s,t){this.p.dist(s,t,this.pos.x,this.pos.y)<this.r&&(this.dragging=!0,this.offsetX=this.pos.x-s,this.offsetY=this.pos.y-t)}stopDragging(){this.dragging=!1}checkCollision(s){if(this.p.dist(this.pos.x,this.pos.y,s.pos.x,s.pos.y)<this.r+s.r){let e=h.Vector.sub(s.pos,this.pos),o=e.mag(),l=this.r+s.r-o,a=e.copy().normalize().mult(l/2);this.pos.sub(a),s.pos.add(a)}}}const f={ref:"canvasContainer"};function g(i,s,t,e,o,l){return c(),n("div",f,null,512)}const b=r(d,[["render",g]]);export{b as default};
