var t,e,r,s,o=Object.defineProperty,n=(t,e,r)=>(((t,e,r)=>{e in t?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r})(t,"symbol"!=typeof e?e+"":e,r),r),i=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},a=(t,e,r)=>(i(t,e,"read from private field"),r?r.call(t):e.get(t)),l=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},h=(t,e,r,s)=>(i(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),u=(t,e,r)=>(i(t,e,"access private method"),r);import{b as c,C as f,n as m,D as g,w,o as p,f as d,g as y,z as b,E as x,x as v,v as M,A as S,F as E,m as R,G as k}from"./vendor-vue-6e453a66.js";import{P as A}from"./plotly.min-6584a8c2.js";import{g as T}from"./_commonjsHelpers-4c16d014.js";import{_ as C}from"./art-components-e7270336.js";var D={};const I=Object.prototype.toString;function N(t){const e=I.call(t);return e.endsWith("Array]")&&!e.includes("Big")}const F=T(Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:N},Symbol.toStringTag,{value:"Module"})));const V=T(Object.freeze(Object.defineProperty({__proto__:null,default:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!N(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==r.output){if(!N(r.output))throw new TypeError("output option must be an array if specified");e=r.output}else e=new Array(t.length);var s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!N(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,s=void 0===r?0:r,o=e.toIndex,n=void 0===o?t.length:o;if(s<0||s>=t.length||!Number.isInteger(s))throw new Error("fromIndex must be a positive integer smaller than length");if(n<=s||n>t.length||!Number.isInteger(n))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var i=t[s],a=s+1;a<n;a++)t[a]<i&&(i=t[a]);return i}(t),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!N(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,s=void 0===r?0:r,o=e.toIndex,n=void 0===o?t.length:o;if(s<0||s>=t.length||!Number.isInteger(s))throw new Error("fromIndex must be a positive integer smaller than length");if(n<=s||n>t.length||!Number.isInteger(n))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var i=t[s],a=s+1;a<n;a++)t[a]>i&&(i=t[a]);return i}(t);if(s===o)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var n=r.min,i=void 0===n?r.autoMinMax?s:0:n,a=r.max,l=void 0===a?r.autoMinMax?o:1:a;if(i>=l)throw new RangeError("min option must be smaller than max option");for(var h=(l-i)/(o-s),u=0;u<t.length;u++)e[u]=(t[u]-s)*h+i;return e}},Symbol.toStringTag,{value:"Module"})));Object.defineProperty(D,"__esModule",{value:!0});var q=F,P=V;const _=" ".repeat(2),z=" ".repeat(4);function $(t,e={}){const{maxRows:r=15,maxColumns:s=10,maxNumSize:o=8,padMinus:n="auto"}=e;return`${t.constructor.name} {\n${_}[\n${z}${function(t,e,r,s,o){const{rows:n,columns:i}=t,a=Math.min(n,e),l=Math.min(i,r),h=[];if("auto"===o){o=!1;t:for(let e=0;e<a;e++)for(let r=0;r<l;r++)if(t.get(e,r)<0){o=!0;break t}}for(let u=0;u<a;u++){let e=[];for(let r=0;r<l;r++)e.push(j(t.get(u,r),s,o));h.push(`${e.join(" ")}`)}l!==i&&(h[h.length-1]+=` ... ${i-r} more columns`);a!==n&&h.push(`... ${n-e} more rows`);return h.join(`\n${z}`)}(t,r,s,o,n)}\n${_}]\n${_}rows: ${t.rows}\n${_}columns: ${t.columns}\n}`}function j(t,e,r){return(t>=0&&r?` ${L(t,e-1)}`:L(t,e)).padEnd(e)}function L(t,e){let r=t.toString();if(r.length<=e)return r;let s=t.toFixed(e);if(s.length>e&&(s=t.toFixed(Math.max(0,e-(s.length-e)))),s.length<=e&&!s.startsWith("0.000")&&!s.startsWith("-0.000"))return s;let o=t.toExponential(e);return o.length>e&&(o=t.toExponential(Math.max(0,e-(o.length-e)))),o.slice(0)}function U(t,e,r){let s=r?t.rows:t.rows-1;if(e<0||e>s)throw new RangeError("Row index out of range")}function O(t,e,r){let s=r?t.columns:t.columns-1;if(e<0||e>s)throw new RangeError("Column index out of range")}function G(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function B(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function W(t,e){if(!q.isAnyArray(e))throw new TypeError("row indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.rows)throw new RangeError("row indices are out of range")}function Q(t,e){if(!q.isAnyArray(e))throw new TypeError("column indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.columns)throw new RangeError("column indices are out of range")}function Y(t,e,r,s,o){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(X("startRow",e),X("endRow",r),X("startColumn",s),X("endColumn",o),e>r||s>o||e<0||e>=t.rows||r<0||r>=t.rows||s<0||s>=t.columns||o<0||o>=t.columns)throw new RangeError("Submatrix indices are out of range")}function J(t,e=0){let r=[];for(let s=0;s<t;s++)r.push(e);return r}function X(t,e){if("number"!=typeof e)throw new TypeError(`${t} must be a number`)}function H(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}class K{static from1DArray(t,e,r){if(t*e!==r.length)throw new RangeError("data length does not match given dimensions");let s=new et(t,e);for(let o=0;o<t;o++)for(let t=0;t<e;t++)s.set(o,t,r[o*e+t]);return s}static rowVector(t){let e=new et(1,t.length);for(let r=0;r<t.length;r++)e.set(0,r,t[r]);return e}static columnVector(t){let e=new et(t.length,1);for(let r=0;r<t.length;r++)e.set(r,0,t[r]);return e}static zeros(t,e){return new et(t,e)}static ones(t,e){return new et(t,e).fill(1)}static rand(t,e,r={}){if("object"!=typeof r)throw new TypeError("options must be an object");const{random:s=Math.random}=r;let o=new et(t,e);for(let n=0;n<t;n++)for(let t=0;t<e;t++)o.set(n,t,s());return o}static randInt(t,e,r={}){if("object"!=typeof r)throw new TypeError("options must be an object");const{min:s=0,max:o=1e3,random:n=Math.random}=r;if(!Number.isInteger(s))throw new TypeError("min must be an integer");if(!Number.isInteger(o))throw new TypeError("max must be an integer");if(s>=o)throw new RangeError("min must be smaller than max");let i=o-s,a=new et(t,e);for(let l=0;l<t;l++)for(let t=0;t<e;t++){let e=s+Math.round(n()*i);a.set(l,t,e)}return a}static eye(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);let s=Math.min(t,e),o=this.zeros(t,e);for(let n=0;n<s;n++)o.set(n,n,r);return o}static diag(t,e,r){let s=t.length;void 0===e&&(e=s),void 0===r&&(r=e);let o=Math.min(s,e,r),n=this.zeros(e,r);for(let i=0;i<o;i++)n.set(i,i,t[i]);return n}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,s=t.columns,o=new et(r,s);for(let n=0;n<r;n++)for(let r=0;r<s;r++)o.set(n,r,Math.min(t.get(n,r),e.get(n,r)));return o}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,s=t.columns,o=new this(r,s);for(let n=0;n<r;n++)for(let r=0;r<s;r++)o.set(n,r,Math.max(t.get(n,r),e.get(n,r)));return o}static checkMatrix(t){return K.isMatrix(t)?t:new et(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!=typeof t)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.call(this,e,r);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.push(this.get(e,r));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let t=0;t<this.rows;t++)if(0!==this.get(t,t))return!1;return!0}isEchelonForm(){let t=0,e=0,r=-1,s=!0,o=!1;for(;t<this.rows&&s;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(s=!1,o=!0);t++}return s}isReducedEchelonForm(){let t=0,e=0,r=-1,s=!0,o=!1;for(;t<this.rows&&s;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(s=!1,o=!0);for(let r=e+1;r<this.rows;r++)0!==this.get(t,r)&&(s=!1);t++}return s}echelonForm(){let t=this.clone(),e=0,r=0;for(;e<t.rows&&r<t.columns;){let s=e;for(let o=e;o<t.rows;o++)t.get(o,r)>t.get(s,r)&&(s=o);if(0===t.get(s,r))r++;else{t.swapRows(e,s);let o=t.get(e,r);for(let s=r;s<t.columns;s++)t.set(e,s,t.get(e,s)/o);for(let s=e+1;s<t.rows;s++){let o=t.get(s,r)/t.get(e,r);t.set(s,r,0);for(let n=r+1;n<t.columns;n++)t.set(s,n,t.get(s,n)-t.get(e,n)*o)}e++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,r=t.rows,s=r-1;for(;s>=0;)if(0===t.maxRow(s))s--;else{let o=0,n=!1;for(;o<r&&!1===n;)1===t.get(s,o)?n=!0:o++;for(let r=0;r<s;r++){let n=t.get(r,o);for(let i=o;i<e;i++){let e=t.get(r,i)-n*t.get(s,i);t.set(r,i,e)}}s--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{rows:e=1,columns:r=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let s=new et(this.rows*e,this.columns*r);for(let o=0;o<e;o++)for(let t=0;t<r;t++)s.setSubMatrix(this,this.rows*o,this.columns*t);return s}fill(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,t);return this}neg(){return this.mulS(-1)}getRow(t){U(this,t);let e=[];for(let r=0;r<this.columns;r++)e.push(this.get(t,r));return e}getRowVector(t){return et.rowVector(this.getRow(t))}setRow(t,e){U(this,t),e=G(this,e);for(let r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}swapRows(t,e){U(this,t),U(this,e);for(let r=0;r<this.columns;r++){let s=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,s)}return this}getColumn(t){O(this,t);let e=[];for(let r=0;r<this.rows;r++)e.push(this.get(r,t));return e}getColumnVector(t){return et.columnVector(this.getColumn(t))}setColumn(t,e){O(this,t),e=B(this,e);for(let r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}swapColumns(t,e){O(this,t),O(this,e);for(let r=0;r<this.rows;r++){let s=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,s)}return this}addRowVector(t){t=G(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}subRowVector(t){t=G(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}mulRowVector(t){t=G(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}divRowVector(t){t=G(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}addColumnVector(t){t=B(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}subColumnVector(t){t=B(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}mulColumnVector(t){t=B(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}divColumnVector(t){t=B(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}mulRow(t,e){U(this,t);for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}mulColumn(t,e){O(this,t);for(let r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[e]&&(t[e]=this.get(e,r));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){H(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)>t&&(t=this.get(r,s),e[0]=r,e[1]=s);return e}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[e]&&(t[e]=this.get(e,r));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}default:throw new Error(`invalid option: ${t}`)}}minIndex(){H(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)<t&&(t=this.get(r,s),e[0]=r,e[1]=s);return e}maxRow(t){if(U(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}maxRowIndex(t){U(this,t),H(this);let e=this.get(t,0),r=[t,0];for(let s=1;s<this.columns;s++)this.get(t,s)>e&&(e=this.get(t,s),r[1]=s);return r}minRow(t){if(U(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}minRowIndex(t){U(this,t),H(this);let e=this.get(t,0),r=[t,0];for(let s=1;s<this.columns;s++)this.get(t,s)<e&&(e=this.get(t,s),r[1]=s);return r}maxColumn(t){if(O(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}maxColumnIndex(t){O(this,t),H(this);let e=this.get(0,t),r=[0,t];for(let s=1;s<this.rows;s++)this.get(s,t)>e&&(e=this.get(s,t),r[0]=s);return r}minColumn(t){if(O(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}minColumnIndex(t){O(this,t),H(this);let e=this.get(0,t),r=[0,t];for(let s=1;s<this.rows;s++)this.get(s,t)<e&&(e=this.get(s,t),r[0]=s);return r}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let r=0;r<t;r++)e.push(this.get(r,r));return e}norm(t="frobenius"){switch(t){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${t}`)}}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}dot(t){K.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let r=0;for(let s=0;s<e.length;s++)r+=e[s]*t[s];return r}mmul(t){t=et.checkMatrix(t);let e=this.rows,r=this.columns,s=t.columns,o=new et(e,s),n=new Float64Array(r);for(let i=0;i<s;i++){for(let e=0;e<r;e++)n[e]=t.get(e,i);for(let t=0;t<e;t++){let e=0;for(let s=0;s<r;s++)e+=this.get(t,s)*n[s];o.set(t,i,e)}}return o}mpow(t){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(t)||t<0)throw new RangeError("Exponent must be a non-negative integer");let e=et.eye(this.rows),r=this;for(let s=t;s>=1;s/=2)1&s&&(e=e.mmul(r)),r=r.mmul(r);return e}strassen2x2(t){t=et.checkMatrix(t);let e=new et(2,2);const r=this.get(0,0),s=t.get(0,0),o=this.get(0,1),n=t.get(0,1),i=this.get(1,0),a=t.get(1,0),l=this.get(1,1),h=t.get(1,1),u=(r+l)*(s+h),c=(i+l)*s,f=r*(n-h),m=l*(a-s),g=(r+o)*h,w=u+m-g+(o-l)*(a+h),p=f+g,d=c+m,y=u-c+f+(i-r)*(s+n);return e.set(0,0,w),e.set(0,1,p),e.set(1,0,d),e.set(1,1,y),e}strassen3x3(t){t=et.checkMatrix(t);let e=new et(3,3);const r=this.get(0,0),s=this.get(0,1),o=this.get(0,2),n=this.get(1,0),i=this.get(1,1),a=this.get(1,2),l=this.get(2,0),h=this.get(2,1),u=this.get(2,2),c=t.get(0,0),f=t.get(0,1),m=t.get(0,2),g=t.get(1,0),w=t.get(1,1),p=t.get(1,2),d=t.get(2,0),y=t.get(2,1),b=t.get(2,2),x=(r-n)*(-f+w),v=(-r+n+i)*(c-f+w),M=(n+i)*(-c+f),S=r*c,E=(-r+l+h)*(c-m+p),R=(-r+l)*(m-p),k=(l+h)*(-c+m),A=(-o+h+u)*(w+d-y),T=(o-u)*(w-y),C=o*d,D=(h+u)*(-d+y),I=(-o+i+a)*(p+d-b),N=(o-a)*(p-b),F=(i+a)*(-d+b),V=S+C+s*g,q=(r+s+o-n-i-h-u)*w+v+M+S+A+C+D,P=S+E+k+(r+s+o-i-a-l-h)*p+C+I+F,_=x+i*(-c+f+g-w-p-d+b)+v+S+C+I+N,z=x+v+M+S+a*y,$=C+I+N+F+n*m,j=S+E+R+h*(-c+m+g-w-p-d+y)+A+T+C,L=A+T+C+D+l*f,U=S+E+R+k+u*b;return e.set(0,0,V),e.set(0,1,q),e.set(0,2,P),e.set(1,0,_),e.set(1,1,z),e.set(1,2,$),e.set(2,0,j),e.set(2,1,L),e.set(2,2,U),e}mmulStrassen(t){t=et.checkMatrix(t);let e=this.clone(),r=e.rows,s=e.columns,o=t.rows,n=t.columns;function i(t,e,r){let s=t.rows,o=t.columns;if(s===e&&o===r)return t;{let s=K.zeros(e,r);return s=s.setSubMatrix(t,0,0),s}}let a=Math.max(r,o),l=Math.max(s,n);return e=i(e,a,l),function t(e,r,s,o){if(s<=512||o<=512)return e.mmul(r);s%2==1&&o%2==1?(e=i(e,s+1,o+1),r=i(r,s+1,o+1)):s%2==1?(e=i(e,s+1,o),r=i(r,s+1,o)):o%2==1&&(e=i(e,s,o+1),r=i(r,s,o+1));let n=parseInt(e.rows/2,10),a=parseInt(e.columns/2,10),l=e.subMatrix(0,n-1,0,a-1),h=r.subMatrix(0,n-1,0,a-1),u=e.subMatrix(0,n-1,a,e.columns-1),c=r.subMatrix(0,n-1,a,r.columns-1),f=e.subMatrix(n,e.rows-1,0,a-1),m=r.subMatrix(n,r.rows-1,0,a-1),g=e.subMatrix(n,e.rows-1,a,e.columns-1),w=r.subMatrix(n,r.rows-1,a,r.columns-1),p=t(K.add(l,g),K.add(h,w),n,a),d=t(K.add(f,g),h,n,a),y=t(l,K.sub(c,w),n,a),b=t(g,K.sub(m,h),n,a),x=t(K.add(l,u),w,n,a),v=t(K.sub(f,l),K.add(h,c),n,a),M=t(K.sub(u,g),K.add(m,w),n,a),S=K.add(p,b);S.sub(x),S.add(M);let E=K.add(y,x),R=K.add(d,b),k=K.sub(p,d);k.add(y),k.add(v);let A=K.zeros(2*S.rows,2*S.columns);return A=A.setSubMatrix(S,0,0),A=A.setSubMatrix(E,S.rows,0),A=A.setSubMatrix(R,0,S.columns),A=A.setSubMatrix(k,S.rows,S.columns),A.subMatrix(0,s-1,0,o-1)}(e,t=i(t,a,l),a,l)}scaleRows(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let s=new et(this.rows,this.columns);for(let o=0;o<this.rows;o++){const t=this.getRow(o);t.length>0&&P(t,{min:e,max:r,output:t}),s.setRow(o,t)}return s}scaleColumns(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let s=new et(this.rows,this.columns);for(let o=0;o<this.columns;o++){const t=this.getColumn(o);t.length&&P(t,{min:e,max:r,output:t}),s.setColumn(o,t)}return s}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let r=0;r<t;r++){let t=this.get(e,r),s=this.get(e,this.columns-1-r);this.set(e,r,s),this.set(e,this.columns-1-r,t)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let r=0;r<t;r++){let t=this.get(r,e),s=this.get(this.rows-1-r,e);this.set(r,e,s),this.set(this.rows-1-r,e,t)}return this}kroneckerProduct(t){t=et.checkMatrix(t);let e=this.rows,r=this.columns,s=t.rows,o=t.columns,n=new et(e*s,r*o);for(let i=0;i<e;i++)for(let e=0;e<r;e++)for(let r=0;r<s;r++)for(let a=0;a<o;a++)n.set(s*i+r,o*e+a,this.get(i,e)*t.get(r,a));return n}kroneckerSum(t){if(t=et.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let e=this.rows,r=t.rows,s=this.kroneckerProduct(et.eye(r,r)),o=et.eye(e,e).kroneckerProduct(t);return s.add(o)}transpose(){let t=new et(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}sortRows(t=Z){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=Z){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,r,s){Y(this,t,e,r,s);let o=new et(e-t+1,s-r+1);for(let n=t;n<=e;n++)for(let e=r;e<=s;e++)o.set(n-t,e-r,this.get(n,e));return o}subMatrixRow(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let s=new et(t.length,r-e+1);for(let o=0;o<t.length;o++)for(let n=e;n<=r;n++){if(t[o]<0||t[o]>=this.rows)throw new RangeError(`Row index out of range: ${t[o]}`);s.set(o,n-e,this.get(t[o],n))}return s}subMatrixColumn(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let s=new et(r-e+1,t.length);for(let o=0;o<t.length;o++)for(let n=e;n<=r;n++){if(t[o]<0||t[o]>=this.columns)throw new RangeError(`Column index out of range: ${t[o]}`);s.set(n-e,o,this.get(n,t[o]))}return s}setSubMatrix(t,e,r){if((t=et.checkMatrix(t)).isEmpty())return this;Y(this,e,e+t.rows-1,r,r+t.columns-1);for(let s=0;s<t.rows;s++)for(let o=0;o<t.columns;o++)this.set(e+s,r+o,t.get(s,o));return this}selection(t,e){W(this,t),Q(this,e);let r=new et(t.length,e.length);for(let s=0;s<t.length;s++){let o=t[s];for(let t=0;t<e.length;t++){let n=e[t];r.set(s,t,this.get(o,n))}}return r}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let r=0;r<t;r++)e+=this.get(r,r);return e}clone(){return this.constructor.copy(this,new et(this.rows,this.columns))}static copy(t,e){for(const[r,s,o]of t.entries())e.set(r,s,o);return e}sum(t){switch(t){case"row":return function(t){let e=J(t.rows);for(let r=0;r<t.rows;++r)for(let s=0;s<t.columns;++s)e[r]+=t.get(r,s);return e}(this);case"column":return function(t){let e=J(t.columns);for(let r=0;r<t.rows;++r)for(let s=0;s<t.columns;++s)e[s]+=t.get(r,s);return e}(this);case void 0:return function(t){let e=0;for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)e+=t.get(r,s);return e}(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return function(t){let e=J(t.rows,1);for(let r=0;r<t.rows;++r)for(let s=0;s<t.columns;++s)e[r]*=t.get(r,s);return e}(this);case"column":return function(t){let e=J(t.columns,1);for(let r=0;r<t.rows;++r)for(let s=0;s<t.columns;++s)e[s]*=t.get(r,s);return e}(this);case void 0:return function(t){let e=1;for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)e*=t.get(r,s);return e}(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{unbiased:r=!0,mean:s=this.mean(t)}=e;if("boolean"!=typeof r)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!q.isAnyArray(s))throw new TypeError("mean must be an array");return function(t,e,r){const s=t.rows,o=t.columns,n=[];for(let i=0;i<s;i++){let s=0,a=0,l=0;for(let e=0;e<o;e++)l=t.get(i,e)-r[i],s+=l,a+=l*l;e?n.push((a-s*s/o)/(o-1)):n.push((a-s*s/o)/o)}return n}(this,r,s);case"column":if(!q.isAnyArray(s))throw new TypeError("mean must be an array");return function(t,e,r){const s=t.rows,o=t.columns,n=[];for(let i=0;i<o;i++){let o=0,a=0,l=0;for(let e=0;e<s;e++)l=t.get(e,i)-r[i],o+=l,a+=l*l;e?n.push((a-o*o/s)/(s-1)):n.push((a-o*o/s)/s)}return n}(this,r,s);case void 0:if("number"!=typeof s)throw new TypeError("mean must be a number");return function(t,e,r){const s=t.rows,o=t.columns,n=s*o;let i=0,a=0,l=0;for(let h=0;h<s;h++)for(let e=0;e<o;e++)l=t.get(h,e)-r,i+=l,a+=l*l;return e?(a-i*i/n)/(n-1):(a-i*i/n)/n}(this,r,s);default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"==typeof t&&(e=t,t=void 0);const r=this.variance(t,e);if(void 0===t)return Math.sqrt(r);for(let s=0;s<r.length;s++)r[s]=Math.sqrt(r[s]);return r}center(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{center:r=this.mean(t)}=e;switch(t){case"row":if(!q.isAnyArray(r))throw new TypeError("center must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)t.set(r,s,t.get(r,s)-e[r])}(this,r),this;case"column":if(!q.isAnyArray(r))throw new TypeError("center must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)t.set(r,s,t.get(r,s)-e[s])}(this,r),this;case void 0:if("number"!=typeof r)throw new TypeError("center must be a number");return function(t,e){for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)t.set(r,s,t.get(r,s)-e)}(this,r),this;default:throw new Error(`invalid option: ${t}`)}}scale(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");let r=e.scale;switch(t){case"row":if(void 0===r)r=function(t){const e=[];for(let r=0;r<t.rows;r++){let s=0;for(let e=0;e<t.columns;e++)s+=t.get(r,e)**2/(t.columns-1);e.push(Math.sqrt(s))}return e}(this);else if(!q.isAnyArray(r))throw new TypeError("scale must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)t.set(r,s,t.get(r,s)/e[r])}(this,r),this;case"column":if(void 0===r)r=function(t){const e=[];for(let r=0;r<t.columns;r++){let s=0;for(let e=0;e<t.rows;e++)s+=t.get(e,r)**2/(t.rows-1);e.push(Math.sqrt(s))}return e}(this);else if(!q.isAnyArray(r))throw new TypeError("scale must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)t.set(r,s,t.get(r,s)/e[s])}(this,r),this;case void 0:if(void 0===r)r=function(t){const e=t.size-1;let r=0;for(let s=0;s<t.columns;s++)for(let o=0;o<t.rows;o++)r+=t.get(o,s)**2/e;return Math.sqrt(r)}(this);else if("number"!=typeof r)throw new TypeError("scale must be a number");return function(t,e){for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)t.set(r,s,t.get(r,s)/e)}(this,r),this;default:throw new Error(`invalid option: ${t}`)}}toString(t){return $(this,t)}[Symbol.iterator](){return this.entries()}*entries(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield[t,e,this.get(t,e)]}*values(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield this.get(t,e)}}function Z(t,e){return t-e}function tt(t){return t.every(t=>"number"==typeof t)}K.prototype.klass="Matrix","undefined"!=typeof Symbol&&(K.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return $(this)}),K.random=K.rand,K.randomInt=K.randInt,K.diagonal=K.diag,K.prototype.diagonal=K.prototype.diag,K.identity=K.eye,K.prototype.negate=K.prototype.neg,K.prototype.tensorProduct=K.prototype.kroneckerProduct;let et=(r=class extends K{constructor(s,o){if(super(),l(this,t),n(this,"data"),r.isMatrix(s))u(this,t,e).call(this,s.rows,s.columns),r.copy(s,this);else if(Number.isInteger(s)&&s>=0)u(this,t,e).call(this,s,o);else{if(!q.isAnyArray(s))throw new TypeError("First argument must be a positive number or an array");{const t=s;if("number"!=typeof(o=(s=t.length)?t[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let e=0;e<s;e++){if(t[e].length!==o)throw new RangeError("Inconsistent array dimensions");if(!tt(t[e]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(t[e]))}this.rows=s,this.columns=o}}}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}removeRow(t){return U(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),U(this,t,!0),e=Float64Array.from(G(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){O(this,t);for(let e=0;e<this.rows;e++){const r=new Float64Array(this.columns-1);for(let s=0;s<t;s++)r[s]=this.data[e][s];for(let s=t+1;s<this.columns;s++)r[s-1]=this.data[e][s];this.data[e]=r}return this.columns-=1,this}addColumn(t,e){void 0===e&&(e=t,t=this.columns),O(this,t,!0),e=B(this,e);for(let r=0;r<this.rows;r++){const s=new Float64Array(this.columns+1);let o=0;for(;o<t;o++)s[o]=this.data[r][o];for(s[o++]=e[r];o<this.columns+1;o++)s[o]=this.data[r][o-1];this.data[r]=s}return this.columns+=1,this}},t=new WeakSet,e=function(t,e){if(this.data=[],!(Number.isInteger(e)&&e>=0))throw new TypeError("nColumns must be a positive integer");for(let r=0;r<t;r++)this.data.push(new Float64Array(e));this.rows=t,this.columns=e},r);var rt,st;st=et,(rt=K).prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},rt.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t);return this},rt.prototype.addM=function(t){if(t=st.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t.get(e,r));return this},rt.add=function(t,e){return new st(t).add(e)},rt.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},rt.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t);return this},rt.prototype.subM=function(t){if(t=st.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t.get(e,r));return this},rt.sub=function(t,e){return new st(t).sub(e)},rt.prototype.subtract=rt.prototype.sub,rt.prototype.subtractS=rt.prototype.subS,rt.prototype.subtractM=rt.prototype.subM,rt.subtract=rt.sub,rt.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},rt.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this},rt.prototype.mulM=function(t){if(t=st.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t.get(e,r));return this},rt.mul=function(t,e){return new st(t).mul(e)},rt.prototype.multiply=rt.prototype.mul,rt.prototype.multiplyS=rt.prototype.mulS,rt.prototype.multiplyM=rt.prototype.mulM,rt.multiply=rt.mul,rt.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},rt.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t);return this},rt.prototype.divM=function(t){if(t=st.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t.get(e,r));return this},rt.div=function(t,e){return new st(t).div(e)},rt.prototype.divide=rt.prototype.div,rt.prototype.divideS=rt.prototype.divS,rt.prototype.divideM=rt.prototype.divM,rt.divide=rt.div,rt.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},rt.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t);return this},rt.prototype.modM=function(t){if(t=st.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t.get(e,r));return this},rt.mod=function(t,e){return new st(t).mod(e)},rt.prototype.modulus=rt.prototype.mod,rt.prototype.modulusS=rt.prototype.modS,rt.prototype.modulusM=rt.prototype.modM,rt.modulus=rt.mod,rt.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},rt.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t);return this},rt.prototype.andM=function(t){if(t=st.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t.get(e,r));return this},rt.and=function(t,e){return new st(t).and(e)},rt.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},rt.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t);return this},rt.prototype.orM=function(t){if(t=st.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t.get(e,r));return this},rt.or=function(t,e){return new st(t).or(e)},rt.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},rt.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t);return this},rt.prototype.xorM=function(t){if(t=st.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t.get(e,r));return this},rt.xor=function(t,e){return new st(t).xor(e)},rt.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},rt.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t);return this},rt.prototype.leftShiftM=function(t){if(t=st.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t.get(e,r));return this},rt.leftShift=function(t,e){return new st(t).leftShift(e)},rt.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},rt.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t);return this},rt.prototype.signPropagatingRightShiftM=function(t){if(t=st.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t.get(e,r));return this},rt.signPropagatingRightShift=function(t,e){return new st(t).signPropagatingRightShift(e)},rt.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},rt.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t);return this},rt.prototype.rightShiftM=function(t){if(t=st.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t.get(e,r));return this},rt.rightShift=function(t,e){return new st(t).rightShift(e)},rt.prototype.zeroFillRightShift=rt.prototype.rightShift,rt.prototype.zeroFillRightShiftS=rt.prototype.rightShiftS,rt.prototype.zeroFillRightShiftM=rt.prototype.rightShiftM,rt.zeroFillRightShift=rt.rightShift,rt.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},rt.not=function(t){return new st(t).not()},rt.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},rt.abs=function(t){return new st(t).abs()},rt.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},rt.acos=function(t){return new st(t).acos()},rt.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},rt.acosh=function(t){return new st(t).acosh()},rt.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},rt.asin=function(t){return new st(t).asin()},rt.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},rt.asinh=function(t){return new st(t).asinh()},rt.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},rt.atan=function(t){return new st(t).atan()},rt.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},rt.atanh=function(t){return new st(t).atanh()},rt.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},rt.cbrt=function(t){return new st(t).cbrt()},rt.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},rt.ceil=function(t){return new st(t).ceil()},rt.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},rt.clz32=function(t){return new st(t).clz32()},rt.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},rt.cos=function(t){return new st(t).cos()},rt.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},rt.cosh=function(t){return new st(t).cosh()},rt.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},rt.exp=function(t){return new st(t).exp()},rt.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},rt.expm1=function(t){return new st(t).expm1()},rt.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},rt.floor=function(t){return new st(t).floor()},rt.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},rt.fround=function(t){return new st(t).fround()},rt.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},rt.log=function(t){return new st(t).log()},rt.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},rt.log1p=function(t){return new st(t).log1p()},rt.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},rt.log10=function(t){return new st(t).log10()},rt.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},rt.log2=function(t){return new st(t).log2()},rt.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},rt.round=function(t){return new st(t).round()},rt.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},rt.sign=function(t){return new st(t).sign()},rt.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},rt.sin=function(t){return new st(t).sin()},rt.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},rt.sinh=function(t){return new st(t).sinh()},rt.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},rt.sqrt=function(t){return new st(t).sqrt()},rt.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},rt.tan=function(t){return new st(t).tan()},rt.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},rt.tanh=function(t){return new st(t).tanh()},rt.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},rt.trunc=function(t){return new st(t).trunc()},rt.pow=function(t,e){return new st(t).pow(e)},rt.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},rt.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)**t);return this},rt.prototype.powM=function(t){if(t=st.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)**t.get(e,r));return this};s=new WeakMap;let ot=class t extends K{constructor(t){if(super(),l(this,s,void 0),et.isMatrix(t)){if(!t.isSymmetric())throw new TypeError("not symmetric data");h(this,s,et.copy(t,new et(t.rows,t.rows)))}else if(Number.isInteger(t)&&t>=0)h(this,s,new et(t,t));else if(h(this,s,new et(t)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return a(this,s).size}get rows(){return a(this,s).rows}get columns(){return a(this,s).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(t){return et.isMatrix(t)&&"SymmetricMatrix"===t.klassType}static zeros(t){return new this(t)}static ones(t){return new this(t).fill(1)}clone(){const e=new t(this.diagonalSize);for(const[t,r,s]of this.upperRightEntries())e.set(t,r,s);return e}toMatrix(){return new et(this)}get(t,e){return a(this,s).get(t,e)}set(t,e,r){return a(this,s).set(t,e,r),a(this,s).set(e,t,r),this}removeCross(t){return a(this,s).removeRow(t),a(this,s).removeColumn(t),this}addCross(t,e){void 0===e&&(e=t,t=this.diagonalSize);const r=e.slice();return r.splice(t,1),a(this,s).addRow(t,r),a(this,s).addColumn(t,e),this}applyMask(t){if(t.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const e=[];for(const[r,s]of t.entries())s||e.push(r);e.reverse();for(const r of e)this.removeCross(r);return this}toCompact(){const{diagonalSize:t}=this,e=new Array(t*(t+1)/2);for(let r=0,s=0,o=0;o<e.length;o++)e[o]=this.get(s,r),++r>=t&&(r=++s);return e}static fromCompact(e){const r=e.length,s=(Math.sqrt(8*r+1)-1)/2;if(!Number.isInteger(s))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(e)}`);const o=new t(s);for(let t=0,n=0,i=0;i<r;i++)o.set(t,n,e[i]),++t>=s&&(t=++n);return o}*upperRightEntries(){for(let t=0,e=0;t<this.diagonalSize;void 0){const r=this.get(t,e);yield[t,e,r],++e>=this.diagonalSize&&(e=++t)}}*upperRightValues(){for(let t=0,e=0;t<this.diagonalSize;void 0){const r=this.get(t,e);yield r,++e>=this.diagonalSize&&(e=++t)}}};ot.prototype.klassType="SymmetricMatrix";class nt extends ot{static isDistanceMatrix(t){return ot.isSymmetricMatrix(t)&&"DistanceMatrix"===t.klassSubType}constructor(t){if(super(t),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(t,e,r){return t===e&&(r=0),super.set(t,e,r)}addCross(t,e){return void 0===e&&(e=t,t=this.diagonalSize),(e=e.slice())[t]=0,super.addCross(t,e)}toSymmetricMatrix(){return new ot(this)}clone(){const t=new nt(this.diagonalSize);for(const[e,r,s]of this.upperRightEntries())e!==r&&t.set(e,r,s);return t}toCompact(){const{diagonalSize:t}=this,e=new Array((t-1)*t/2);for(let r=1,s=0,o=0;o<e.length;o++)e[o]=this.get(s,r),++r>=t&&(r=1+ ++s);return e}static fromCompact(t){const e=t.length;if(0===e)return new this(0);const r=(Math.sqrt(8*e+1)+1)/2;if(!Number.isInteger(r))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(t)}`);const s=new this(r);for(let o=1,n=0,i=0;i<e;i++)s.set(o,n,t[i]),++o>=r&&(o=1+ ++n);return s}}nt.prototype.klassSubType="DistanceMatrix";class it extends K{constructor(t,e,r){super(),this.matrix=t,this.rows=e,this.columns=r}}class at extends it{constructor(t,e,r){W(t,e),Q(t,r),super(t,e.length,r.length),this.rowIndices=e,this.columnIndices=r}set(t,e,r){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],r),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class lt extends K{constructor(t,e={}){const{rows:r=1}=e;if(t.length%r!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=r,this.columns=t.length/r,this.data=t}set(t,e,r){let s=this._calculateIndex(t,e);return this.data[s]=r,this}get(t,e){let r=this._calculateIndex(t,e);return this.data[r]}_calculateIndex(t,e){return t*this.columns+e}}class ht extends K{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}}class ut{constructor(t){let e,r,s,o,n,i,a,l,h,u=(t=ht.checkMatrix(t)).clone(),c=u.rows,f=u.columns,m=new Float64Array(c),g=1;for(e=0;e<c;e++)m[e]=e;for(l=new Float64Array(c),r=0;r<f;r++){for(e=0;e<c;e++)l[e]=u.get(e,r);for(e=0;e<c;e++){for(h=Math.min(e,r),n=0,s=0;s<h;s++)n+=u.get(e,s)*l[s];l[e]-=n,u.set(e,r,l[e])}for(o=r,e=r+1;e<c;e++)Math.abs(l[e])>Math.abs(l[o])&&(o=e);if(o!==r){for(s=0;s<f;s++)i=u.get(o,s),u.set(o,s,u.get(r,s)),u.set(r,s,i);a=m[o],m[o]=m[r],m[r]=a,g=-g}if(r<c&&0!==u.get(r,r))for(e=r+1;e<c;e++)u.set(e,r,u.get(e,r)/u.get(r,r))}this.LU=u,this.pivotVector=m,this.pivotSign=g}isSingular(){let t=this.LU,e=t.columns;for(let r=0;r<e;r++)if(0===t.get(r,r))return!0;return!1}solve(t){t=et.checkMatrix(t);let e=this.LU;if(e.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let r,s,o,n=t.columns,i=t.subMatrixRow(this.pivotVector,0,n-1),a=e.columns;for(o=0;o<a;o++)for(r=o+1;r<a;r++)for(s=0;s<n;s++)i.set(r,s,i.get(r,s)-i.get(o,s)*e.get(r,o));for(o=a-1;o>=0;o--){for(s=0;s<n;s++)i.set(o,s,i.get(o,s)/e.get(o,o));for(r=0;r<o;r++)for(s=0;s<n;s++)i.set(r,s,i.get(r,s)-i.get(o,s)*e.get(r,o))}return i}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let e=this.pivotSign,r=t.columns;for(let s=0;s<r;s++)e*=t.get(s,s);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,s=new et(e,r);for(let o=0;o<e;o++)for(let e=0;e<r;e++)o>e?s.set(o,e,t.get(o,e)):o===e?s.set(o,e,1):s.set(o,e,0);return s}get upperTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,s=new et(e,r);for(let o=0;o<e;o++)for(let e=0;e<r;e++)o<=e?s.set(o,e,t.get(o,e)):s.set(o,e,0);return s}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function ct(t,e){let r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}class ft{constructor(t){let e,r,s,o,n=(t=ht.checkMatrix(t)).clone(),i=t.rows,a=t.columns,l=new Float64Array(a);for(s=0;s<a;s++){let t=0;for(e=s;e<i;e++)t=ct(t,n.get(e,s));if(0!==t){for(n.get(s,s)<0&&(t=-t),e=s;e<i;e++)n.set(e,s,n.get(e,s)/t);for(n.set(s,s,n.get(s,s)+1),r=s+1;r<a;r++){for(o=0,e=s;e<i;e++)o+=n.get(e,s)*n.get(e,r);for(o=-o/n.get(s,s),e=s;e<i;e++)n.set(e,r,n.get(e,r)+o*n.get(e,s))}}l[s]=-t}this.QR=n,this.Rdiag=l}solve(t){t=et.checkMatrix(t);let e=this.QR,r=e.rows;if(t.rows!==r)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let s,o,n,i,a=t.columns,l=t.clone(),h=e.columns;for(n=0;n<h;n++)for(o=0;o<a;o++){for(i=0,s=n;s<r;s++)i+=e.get(s,n)*l.get(s,o);for(i=-i/e.get(n,n),s=n;s<r;s++)l.set(s,o,l.get(s,o)+i*e.get(s,n))}for(n=h-1;n>=0;n--){for(o=0;o<a;o++)l.set(n,o,l.get(n,o)/this.Rdiag[n]);for(s=0;s<n;s++)for(o=0;o<a;o++)l.set(s,o,l.get(s,o)-l.get(n,o)*e.get(s,n))}return l.subMatrix(0,h-1,0,a-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){let t,e,r=this.QR,s=r.columns,o=new et(s,s);for(t=0;t<s;t++)for(e=0;e<s;e++)t<e?o.set(t,e,r.get(t,e)):t===e?o.set(t,e,this.Rdiag[t]):o.set(t,e,0);return o}get orthogonalMatrix(){let t,e,r,s,o=this.QR,n=o.rows,i=o.columns,a=new et(n,i);for(r=i-1;r>=0;r--){for(t=0;t<n;t++)a.set(t,r,0);for(a.set(r,r,1),e=r;e<i;e++)if(0!==o.get(r,r)){for(s=0,t=r;t<n;t++)s+=o.get(t,r)*a.get(t,e);for(s=-s/o.get(r,r),t=r;t<n;t++)a.set(t,e,a.get(t,e)+s*o.get(t,r))}}return a}}class mt{constructor(t,e={}){if((t=ht.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");let r=t.rows,s=t.columns;const{computeLeftSingularVectors:o=!0,computeRightSingularVectors:n=!0,autoTranspose:i=!1}=e;let a,l=Boolean(o),h=Boolean(n),u=!1;if(r<s)if(i){a=t.transpose(),r=a.rows,s=a.columns,u=!0;let e=l;l=h,h=e}else a=t.clone();else a=t.clone();let c=Math.min(r,s),f=Math.min(r+1,s),m=new Float64Array(f),g=new et(r,c),w=new et(s,s),p=new Float64Array(s),d=new Float64Array(r),y=new Float64Array(f);for(let R=0;R<f;R++)y[R]=R;let b=Math.min(r-1,s),x=Math.max(0,Math.min(s-2,r)),v=Math.max(b,x);for(let R=0;R<v;R++){if(R<b){m[R]=0;for(let t=R;t<r;t++)m[R]=ct(m[R],a.get(t,R));if(0!==m[R]){a.get(R,R)<0&&(m[R]=-m[R]);for(let t=R;t<r;t++)a.set(t,R,a.get(t,R)/m[R]);a.set(R,R,a.get(R,R)+1)}m[R]=-m[R]}for(let t=R+1;t<s;t++){if(R<b&&0!==m[R]){let e=0;for(let s=R;s<r;s++)e+=a.get(s,R)*a.get(s,t);e=-e/a.get(R,R);for(let s=R;s<r;s++)a.set(s,t,a.get(s,t)+e*a.get(s,R))}p[t]=a.get(R,t)}if(l&&R<b)for(let t=R;t<r;t++)g.set(t,R,a.get(t,R));if(R<x){p[R]=0;for(let t=R+1;t<s;t++)p[R]=ct(p[R],p[t]);if(0!==p[R]){p[R+1]<0&&(p[R]=0-p[R]);for(let t=R+1;t<s;t++)p[t]/=p[R];p[R+1]+=1}if(p[R]=-p[R],R+1<r&&0!==p[R]){for(let t=R+1;t<r;t++)d[t]=0;for(let t=R+1;t<r;t++)for(let e=R+1;e<s;e++)d[t]+=p[e]*a.get(t,e);for(let t=R+1;t<s;t++){let e=-p[t]/p[R+1];for(let s=R+1;s<r;s++)a.set(s,t,a.get(s,t)+e*d[s])}}if(h)for(let t=R+1;t<s;t++)w.set(t,R,p[t])}}let M=Math.min(s,r+1);if(b<s&&(m[b]=a.get(b,b)),r<M&&(m[M-1]=0),x+1<M&&(p[x]=a.get(x,M-1)),p[M-1]=0,l){for(let t=b;t<c;t++){for(let e=0;e<r;e++)g.set(e,t,0);g.set(t,t,1)}for(let t=b-1;t>=0;t--)if(0!==m[t]){for(let e=t+1;e<c;e++){let s=0;for(let o=t;o<r;o++)s+=g.get(o,t)*g.get(o,e);s=-s/g.get(t,t);for(let o=t;o<r;o++)g.set(o,e,g.get(o,e)+s*g.get(o,t))}for(let e=t;e<r;e++)g.set(e,t,-g.get(e,t));g.set(t,t,1+g.get(t,t));for(let e=0;e<t-1;e++)g.set(e,t,0)}else{for(let e=0;e<r;e++)g.set(e,t,0);g.set(t,t,1)}}if(h)for(let R=s-1;R>=0;R--){if(R<x&&0!==p[R])for(let t=R+1;t<s;t++){let e=0;for(let r=R+1;r<s;r++)e+=w.get(r,R)*w.get(r,t);e=-e/w.get(R+1,R);for(let r=R+1;r<s;r++)w.set(r,t,w.get(r,t)+e*w.get(r,R))}for(let t=0;t<s;t++)w.set(t,R,0);w.set(R,R,1)}let S=M-1,E=Number.EPSILON;for(;M>0;){let t,e;for(t=M-2;t>=-1&&-1!==t;t--){const e=Number.MIN_VALUE+E*Math.abs(m[t]+Math.abs(m[t+1]));if(Math.abs(p[t])<=e||Number.isNaN(p[t])){p[t]=0;break}}if(t===M-2)e=4;else{let r;for(r=M-1;r>=t&&r!==t;r--){let e=(r!==M?Math.abs(p[r]):0)+(r!==t+1?Math.abs(p[r-1]):0);if(Math.abs(m[r])<=E*e){m[r]=0;break}}r===t?e=3:r===M-1?e=1:(e=2,t=r)}switch(t++,e){case 1:{let e=p[M-2];p[M-2]=0;for(let r=M-2;r>=t;r--){let o=ct(m[r],e),n=m[r]/o,i=e/o;if(m[r]=o,r!==t&&(e=-i*p[r-1],p[r-1]=n*p[r-1]),h)for(let t=0;t<s;t++)o=n*w.get(t,r)+i*w.get(t,M-1),w.set(t,M-1,-i*w.get(t,r)+n*w.get(t,M-1)),w.set(t,r,o)}break}case 2:{let e=p[t-1];p[t-1]=0;for(let s=t;s<M;s++){let o=ct(m[s],e),n=m[s]/o,i=e/o;if(m[s]=o,e=-i*p[s],p[s]=n*p[s],l)for(let e=0;e<r;e++)o=n*g.get(e,s)+i*g.get(e,t-1),g.set(e,t-1,-i*g.get(e,s)+n*g.get(e,t-1)),g.set(e,s,o)}break}case 3:{const e=Math.max(Math.abs(m[M-1]),Math.abs(m[M-2]),Math.abs(p[M-2]),Math.abs(m[t]),Math.abs(p[t])),o=m[M-1]/e,n=m[M-2]/e,i=p[M-2]/e,a=m[t]/e,u=p[t]/e,c=((n+o)*(n-o)+i*i)/2,f=o*i*(o*i);let d=0;0===c&&0===f||(d=c<0?0-Math.sqrt(c*c+f):Math.sqrt(c*c+f),d=f/(c+d));let y=(a+o)*(a-o)+d,b=a*u;for(let x=t;x<M-1;x++){let e=ct(y,b);0===e&&(e=Number.MIN_VALUE);let o=y/e,n=b/e;if(x!==t&&(p[x-1]=e),y=o*m[x]+n*p[x],p[x]=o*p[x]-n*m[x],b=n*m[x+1],m[x+1]=o*m[x+1],h)for(let t=0;t<s;t++)e=o*w.get(t,x)+n*w.get(t,x+1),w.set(t,x+1,-n*w.get(t,x)+o*w.get(t,x+1)),w.set(t,x,e);if(e=ct(y,b),0===e&&(e=Number.MIN_VALUE),o=y/e,n=b/e,m[x]=e,y=o*p[x]+n*m[x+1],m[x+1]=-n*p[x]+o*m[x+1],b=n*p[x+1],p[x+1]=o*p[x+1],l&&x<r-1)for(let t=0;t<r;t++)e=o*g.get(t,x)+n*g.get(t,x+1),g.set(t,x+1,-n*g.get(t,x)+o*g.get(t,x+1)),g.set(t,x,e)}p[M-2]=y;break}case 4:if(m[t]<=0&&(m[t]=m[t]<0?-m[t]:0,h))for(let e=0;e<=S;e++)w.set(e,t,-w.get(e,t));for(;t<S&&!(m[t]>=m[t+1]);){let e=m[t];if(m[t]=m[t+1],m[t+1]=e,h&&t<s-1)for(let r=0;r<s;r++)e=w.get(r,t+1),w.set(r,t+1,w.get(r,t)),w.set(r,t,e);if(l&&t<r-1)for(let s=0;s<r;s++)e=g.get(s,t+1),g.set(s,t+1,g.get(s,t)),g.set(s,t,e);t++}M--}}if(u){let t=w;w=g,g=t}this.m=r,this.n=s,this.s=m,this.U=g,this.V=w}solve(t){let e=t,r=this.threshold,s=this.s.length,o=et.zeros(s,s);for(let c=0;c<s;c++)Math.abs(this.s[c])<=r?o.set(c,c,0):o.set(c,c,1/this.s[c]);let n=this.U,i=this.rightSingularVectors,a=i.mmul(o),l=i.rows,h=n.rows,u=et.zeros(l,h);for(let c=0;c<l;c++)for(let t=0;t<h;t++){let e=0;for(let r=0;r<s;r++)e+=a.get(c,r)*n.get(t,r);u.set(c,t,e)}return u.mmul(e)}solveForDiagonal(t){return this.solve(et.diag(t))}inverse(){let t=this.V,e=this.threshold,r=t.rows,s=t.columns,o=new et(r,this.s.length);for(let h=0;h<r;h++)for(let r=0;r<s;r++)Math.abs(this.s[r])>e&&o.set(h,r,t.get(h,r)/this.s[r]);let n=this.U,i=n.rows,a=n.columns,l=new et(r,i);for(let h=0;h<r;h++)for(let t=0;t<i;t++){let e=0;for(let r=0;r<a;r++)e+=o.get(h,r)*n.get(t,r);l.set(h,t,e)}return l}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s;for(let s=0,o=r.length;s<o;s++)r[s]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return et.diag(this.s)}}function gt(t,e,r=!1){return t=ht.checkMatrix(t),e=ht.checkMatrix(e),r?new mt(t).solve(e):t.isSquare()?new ut(t).solve(e):new ft(t).solve(e)}function wt(t,e){let r=[];for(let s=0;s<t;s++)s!==e&&r.push(s);return r}function pt(t,e,r,s=1e-9,o=1e-9){if(t>o)return new Array(e.rows+1).fill(0);{let t=e.addRow(r,[0]);for(let e=0;e<t.rows;e++)Math.abs(t.get(e,0))<s&&t.set(e,0,0);return t.to1DArray()}}class dt{constructor(t,e={}){const{assumeSymmetric:r=!1}=e;if(!(t=ht.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");let s,o,n=t.columns,i=new et(n,n),a=new Float64Array(n),l=new Float64Array(n),h=t,u=!1;if(u=!!r||t.isSymmetric(),u){for(s=0;s<n;s++)for(o=0;o<n;o++)i.set(s,o,h.get(s,o));!function(t,e,r,s){let o,n,i,a,l,h,u,c;for(l=0;l<t;l++)r[l]=s.get(t-1,l);for(a=t-1;a>0;a--){for(c=0,i=0,h=0;h<a;h++)c+=Math.abs(r[h]);if(0===c)for(e[a]=r[a-1],l=0;l<a;l++)r[l]=s.get(a-1,l),s.set(a,l,0),s.set(l,a,0);else{for(h=0;h<a;h++)r[h]/=c,i+=r[h]*r[h];for(o=r[a-1],n=Math.sqrt(i),o>0&&(n=-n),e[a]=c*n,i-=o*n,r[a-1]=o-n,l=0;l<a;l++)e[l]=0;for(l=0;l<a;l++){for(o=r[l],s.set(l,a,o),n=e[l]+s.get(l,l)*o,h=l+1;h<=a-1;h++)n+=s.get(h,l)*r[h],e[h]+=s.get(h,l)*o;e[l]=n}for(o=0,l=0;l<a;l++)e[l]/=i,o+=e[l]*r[l];for(u=o/(i+i),l=0;l<a;l++)e[l]-=u*r[l];for(l=0;l<a;l++){for(o=r[l],n=e[l],h=l;h<=a-1;h++)s.set(h,l,s.get(h,l)-(o*e[h]+n*r[h]));r[l]=s.get(a-1,l),s.set(a,l,0)}}r[a]=i}for(a=0;a<t-1;a++){if(s.set(t-1,a,s.get(a,a)),s.set(a,a,1),i=r[a+1],0!==i){for(h=0;h<=a;h++)r[h]=s.get(h,a+1)/i;for(l=0;l<=a;l++){for(n=0,h=0;h<=a;h++)n+=s.get(h,a+1)*s.get(h,l);for(h=0;h<=a;h++)s.set(h,l,s.get(h,l)-n*r[h])}}for(h=0;h<=a;h++)s.set(h,a+1,0)}for(l=0;l<t;l++)r[l]=s.get(t-1,l),s.set(t-1,l,0);s.set(t-1,t-1,1),e[0]=0}(n,l,a,i),function(t,e,r,s){let o,n,i,a,l,h,u,c,f,m,g,w,p,d,y,b;for(i=1;i<t;i++)e[i-1]=e[i];e[t-1]=0;let x=0,v=0,M=Number.EPSILON;for(h=0;h<t;h++){for(v=Math.max(v,Math.abs(r[h])+Math.abs(e[h])),u=h;u<t&&!(Math.abs(e[u])<=M*v);)u++;if(u>h)do{for(o=r[h],c=(r[h+1]-o)/(2*e[h]),f=ct(c,1),c<0&&(f=-f),r[h]=e[h]/(c+f),r[h+1]=e[h]*(c+f),m=r[h+1],n=o-r[h],i=h+2;i<t;i++)r[i]-=n;for(x+=n,c=r[u],g=1,w=g,p=g,d=e[h+1],y=0,b=0,i=u-1;i>=h;i--)for(p=w,w=g,b=y,o=g*e[i],n=g*c,f=ct(c,e[i]),e[i+1]=y*f,y=e[i]/f,g=c/f,c=g*r[i]-y*o,r[i+1]=n+y*(g*o+y*r[i]),l=0;l<t;l++)n=s.get(l,i+1),s.set(l,i+1,y*s.get(l,i)+g*n),s.set(l,i,g*s.get(l,i)-y*n);c=-y*b*p*d*e[h]/m,e[h]=y*c,r[h]=g*c}while(Math.abs(e[h])>M*v);r[h]=r[h]+x,e[h]=0}for(i=0;i<t-1;i++){for(l=i,c=r[i],a=i+1;a<t;a++)r[a]<c&&(l=a,c=r[a]);if(l!==i)for(r[l]=r[i],r[i]=c,a=0;a<t;a++)c=s.get(a,i),s.set(a,i,s.get(a,l)),s.set(a,l,c)}}(n,l,a,i)}else{let t=new et(n,n),e=new Float64Array(n);for(o=0;o<n;o++)for(s=0;s<n;s++)t.set(s,o,h.get(s,o));!function(t,e,r,s){let o,n,i,a,l,h,u,c=0,f=t-1;for(h=c+1;h<=f-1;h++){for(u=0,a=h;a<=f;a++)u+=Math.abs(e.get(a,h-1));if(0!==u){for(i=0,a=f;a>=h;a--)r[a]=e.get(a,h-1)/u,i+=r[a]*r[a];for(n=Math.sqrt(i),r[h]>0&&(n=-n),i-=r[h]*n,r[h]=r[h]-n,l=h;l<t;l++){for(o=0,a=f;a>=h;a--)o+=r[a]*e.get(a,l);for(o/=i,a=h;a<=f;a++)e.set(a,l,e.get(a,l)-o*r[a])}for(a=0;a<=f;a++){for(o=0,l=f;l>=h;l--)o+=r[l]*e.get(a,l);for(o/=i,l=h;l<=f;l++)e.set(a,l,e.get(a,l)-o*r[l])}r[h]=u*r[h],e.set(h,h-1,u*n)}}for(a=0;a<t;a++)for(l=0;l<t;l++)s.set(a,l,a===l?1:0);for(h=f-1;h>=c+1;h--)if(0!==e.get(h,h-1)){for(a=h+1;a<=f;a++)r[a]=e.get(a,h-1);for(l=h;l<=f;l++){for(n=0,a=h;a<=f;a++)n+=r[a]*s.get(a,l);for(n=n/r[h]/e.get(h,h-1),a=h;a<=f;a++)s.set(a,l,s.get(a,l)+n*r[a])}}}(n,t,e,i),function(t,e,r,s,o){let n,i,a,l,h,u,c,f,m,g,w,p,d,y,b,x=t-1,v=0,M=t-1,S=Number.EPSILON,E=0,R=0,k=0,A=0,T=0,C=0,D=0,I=0;for(n=0;n<t;n++)for((n<v||n>M)&&(r[n]=o.get(n,n),e[n]=0),i=Math.max(n-1,0);i<t;i++)R+=Math.abs(o.get(n,i));for(;x>=v;){for(l=x;l>v&&(C=Math.abs(o.get(l-1,l-1))+Math.abs(o.get(l,l)),0===C&&(C=R),!(Math.abs(o.get(l,l-1))<S*C));)l--;if(l===x)o.set(x,x,o.get(x,x)+E),r[x]=o.get(x,x),e[x]=0,x--,I=0;else if(l===x-1){if(c=o.get(x,x-1)*o.get(x-1,x),k=(o.get(x-1,x-1)-o.get(x,x))/2,A=k*k+c,D=Math.sqrt(Math.abs(A)),o.set(x,x,o.get(x,x)+E),o.set(x-1,x-1,o.get(x-1,x-1)+E),f=o.get(x,x),A>=0){for(D=k>=0?k+D:k-D,r[x-1]=f+D,r[x]=r[x-1],0!==D&&(r[x]=f-c/D),e[x-1]=0,e[x]=0,f=o.get(x,x-1),C=Math.abs(f)+Math.abs(D),k=f/C,A=D/C,T=Math.sqrt(k*k+A*A),k/=T,A/=T,i=x-1;i<t;i++)D=o.get(x-1,i),o.set(x-1,i,A*D+k*o.get(x,i)),o.set(x,i,A*o.get(x,i)-k*D);for(n=0;n<=x;n++)D=o.get(n,x-1),o.set(n,x-1,A*D+k*o.get(n,x)),o.set(n,x,A*o.get(n,x)-k*D);for(n=v;n<=M;n++)D=s.get(n,x-1),s.set(n,x-1,A*D+k*s.get(n,x)),s.set(n,x,A*s.get(n,x)-k*D)}else r[x-1]=f+k,r[x]=f+k,e[x-1]=D,e[x]=-D;x-=2,I=0}else{if(f=o.get(x,x),m=0,c=0,l<x&&(m=o.get(x-1,x-1),c=o.get(x,x-1)*o.get(x-1,x)),10===I){for(E+=f,n=v;n<=x;n++)o.set(n,n,o.get(n,n)-f);C=Math.abs(o.get(x,x-1))+Math.abs(o.get(x-1,x-2)),f=m=.75*C,c=-.4375*C*C}if(30===I&&(C=(m-f)/2,C=C*C+c,C>0)){for(C=Math.sqrt(C),m<f&&(C=-C),C=f-c/((m-f)/2+C),n=v;n<=x;n++)o.set(n,n,o.get(n,n)-C);E+=C,f=m=c=.964}for(I+=1,h=x-2;h>=l&&(D=o.get(h,h),T=f-D,C=m-D,k=(T*C-c)/o.get(h+1,h)+o.get(h,h+1),A=o.get(h+1,h+1)-D-T-C,T=o.get(h+2,h+1),C=Math.abs(k)+Math.abs(A)+Math.abs(T),k/=C,A/=C,T/=C,h!==l)&&!(Math.abs(o.get(h,h-1))*(Math.abs(A)+Math.abs(T))<S*(Math.abs(k)*(Math.abs(o.get(h-1,h-1))+Math.abs(D)+Math.abs(o.get(h+1,h+1)))));)h--;for(n=h+2;n<=x;n++)o.set(n,n-2,0),n>h+2&&o.set(n,n-3,0);for(a=h;a<=x-1&&(y=a!==x-1,a!==h&&(k=o.get(a,a-1),A=o.get(a+1,a-1),T=y?o.get(a+2,a-1):0,f=Math.abs(k)+Math.abs(A)+Math.abs(T),0!==f&&(k/=f,A/=f,T/=f)),0!==f);a++)if(C=Math.sqrt(k*k+A*A+T*T),k<0&&(C=-C),0!==C){for(a!==h?o.set(a,a-1,-C*f):l!==h&&o.set(a,a-1,-o.get(a,a-1)),k+=C,f=k/C,m=A/C,D=T/C,A/=k,T/=k,i=a;i<t;i++)k=o.get(a,i)+A*o.get(a+1,i),y&&(k+=T*o.get(a+2,i),o.set(a+2,i,o.get(a+2,i)-k*D)),o.set(a,i,o.get(a,i)-k*f),o.set(a+1,i,o.get(a+1,i)-k*m);for(n=0;n<=Math.min(x,a+3);n++)k=f*o.get(n,a)+m*o.get(n,a+1),y&&(k+=D*o.get(n,a+2),o.set(n,a+2,o.get(n,a+2)-k*T)),o.set(n,a,o.get(n,a)-k),o.set(n,a+1,o.get(n,a+1)-k*A);for(n=v;n<=M;n++)k=f*s.get(n,a)+m*s.get(n,a+1),y&&(k+=D*s.get(n,a+2),s.set(n,a+2,s.get(n,a+2)-k*T)),s.set(n,a,s.get(n,a)-k),s.set(n,a+1,s.get(n,a+1)-k*A)}}}if(0===R)return;for(x=t-1;x>=0;x--)if(k=r[x],A=e[x],0===A)for(l=x,o.set(x,x,1),n=x-1;n>=0;n--){for(c=o.get(n,n)-k,T=0,i=l;i<=x;i++)T+=o.get(n,i)*o.get(i,x);if(e[n]<0)D=c,C=T;else if(l=n,0===e[n]?o.set(n,x,0!==c?-T/c:-T/(S*R)):(f=o.get(n,n+1),m=o.get(n+1,n),A=(r[n]-k)*(r[n]-k)+e[n]*e[n],u=(f*C-D*T)/A,o.set(n,x,u),o.set(n+1,x,Math.abs(f)>Math.abs(D)?(-T-c*u)/f:(-C-m*u)/D)),u=Math.abs(o.get(n,x)),S*u*u>1)for(i=n;i<=x;i++)o.set(i,x,o.get(i,x)/u)}else if(A<0)for(l=x-1,Math.abs(o.get(x,x-1))>Math.abs(o.get(x-1,x))?(o.set(x-1,x-1,A/o.get(x,x-1)),o.set(x-1,x,-(o.get(x,x)-k)/o.get(x,x-1))):(b=yt(0,-o.get(x-1,x),o.get(x-1,x-1)-k,A),o.set(x-1,x-1,b[0]),o.set(x-1,x,b[1])),o.set(x,x-1,0),o.set(x,x,1),n=x-2;n>=0;n--){for(g=0,w=0,i=l;i<=x;i++)g+=o.get(n,i)*o.get(i,x-1),w+=o.get(n,i)*o.get(i,x);if(c=o.get(n,n)-k,e[n]<0)D=c,T=g,C=w;else if(l=n,0===e[n]?(b=yt(-g,-w,c,A),o.set(n,x-1,b[0]),o.set(n,x,b[1])):(f=o.get(n,n+1),m=o.get(n+1,n),p=(r[n]-k)*(r[n]-k)+e[n]*e[n]-A*A,d=2*(r[n]-k)*A,0===p&&0===d&&(p=S*R*(Math.abs(c)+Math.abs(A)+Math.abs(f)+Math.abs(m)+Math.abs(D))),b=yt(f*T-D*g+A*w,f*C-D*w-A*g,p,d),o.set(n,x-1,b[0]),o.set(n,x,b[1]),Math.abs(f)>Math.abs(D)+Math.abs(A)?(o.set(n+1,x-1,(-g-c*o.get(n,x-1)+A*o.get(n,x))/f),o.set(n+1,x,(-w-c*o.get(n,x)-A*o.get(n,x-1))/f)):(b=yt(-T-m*o.get(n,x-1),-C-m*o.get(n,x),D,A),o.set(n+1,x-1,b[0]),o.set(n+1,x,b[1]))),u=Math.max(Math.abs(o.get(n,x-1)),Math.abs(o.get(n,x))),S*u*u>1)for(i=n;i<=x;i++)o.set(i,x-1,o.get(i,x-1)/u),o.set(i,x,o.get(i,x)/u)}for(n=0;n<t;n++)if(n<v||n>M)for(i=n;i<t;i++)s.set(n,i,o.get(n,i));for(i=t-1;i>=v;i--)for(n=v;n<=M;n++){for(D=0,a=v;a<=Math.min(i,M);a++)D+=s.get(n,a)*o.get(a,i);s.set(n,i,D)}}(n,l,a,i,t)}this.n=n,this.e=l,this.d=a,this.V=i}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t,e,r=this.n,s=this.e,o=this.d,n=new et(r,r);for(t=0;t<r;t++){for(e=0;e<r;e++)n.set(t,e,0);n.set(t,t,o[t]),s[t]>0?n.set(t,t+1,s[t]):s[t]<0&&n.set(t,t-1,s[t])}return n}}function yt(t,e,r,s){let o,n;return Math.abs(r)>Math.abs(s)?(o=s/r,n=r+o*s,[(t+o*e)/n,(e-o*t)/n]):(o=r/s,n=s+o*r,[(o*t+e)/n,(o*e-t)/n])}class bt{constructor(t){if(!(t=ht.checkMatrix(t)).isSymmetric())throw new Error("Matrix is not symmetric");let e,r,s,o=t,n=o.rows,i=new et(n,n),a=!0;for(r=0;r<n;r++){let t=0;for(s=0;s<r;s++){let n=0;for(e=0;e<s;e++)n+=i.get(s,e)*i.get(r,e);n=(o.get(r,s)-n)/i.get(s,s),i.set(r,s,n),t+=n*n}for(t=o.get(r,r)-t,a&&(a=t>0),i.set(r,r,Math.sqrt(Math.max(t,0))),s=r+1;s<n;s++)i.set(r,s,0)}this.L=i,this.positiveDefinite=a}isPositiveDefinite(){return this.positiveDefinite}solve(t){t=ht.checkMatrix(t);let e=this.L,r=e.rows;if(t.rows!==r)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let s,o,n,i=t.columns,a=t.clone();for(n=0;n<r;n++)for(o=0;o<i;o++){for(s=0;s<n;s++)a.set(n,o,a.get(n,o)-a.get(s,o)*e.get(n,s));a.set(n,o,a.get(n,o)/e.get(n,n))}for(n=r-1;n>=0;n--)for(o=0;o<i;o++){for(s=n+1;s<r;s++)a.set(n,o,a.get(n,o)-a.get(s,o)*e.get(s,n));a.set(n,o,a.get(n,o)/e.get(n,n))}return a}get lowerTriangularMatrix(){return this.L}}class xt{constructor(t,e={}){t=ht.checkMatrix(t);let{Y:r}=e;const{scaleScores:s=!1,maxIterations:o=1e3,terminationCriteria:n=1e-10}=e;let i;if(r){if(r=q.isAnyArray(r)&&"number"==typeof r[0]?et.columnVector(r):ht.checkMatrix(r),r.rows!==t.rows)throw new Error("Y should have the same number of rows as X");i=r.getColumnVector(0)}else i=t.getColumnVector(0);let a,l,h,u,c=1;for(let f=0;f<o&&c>n;f++)h=t.transpose().mmul(i).div(i.transpose().mmul(i).get(0,0)),h=h.div(h.norm()),a=t.mmul(h).div(h.transpose().mmul(h).get(0,0)),f>0&&(c=a.clone().sub(u).pow(2).sum()),u=a.clone(),r?(l=r.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0)),l=l.div(l.norm()),i=r.mmul(l).div(l.transpose().mmul(l).get(0,0))):i=a;if(r){let e=t.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0));e=e.div(e.norm());let s=t.clone().sub(a.clone().mmul(e.transpose())),o=i.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0)),n=r.clone().sub(a.clone().mulS(o.get(0,0)).mmul(l.transpose()));this.t=a,this.p=e.transpose(),this.w=h.transpose(),this.q=l,this.u=i,this.s=a.transpose().mmul(a),this.xResidual=s,this.yResidual=n,this.betas=o}else this.w=h.transpose(),this.s=a.transpose().mmul(a).sqrt(),this.t=s?a.clone().div(this.s.get(0,0)):a,this.xResidual=t.sub(a.mmul(h.transpose()))}}D.AbstractMatrix=K,D.CHO=bt,D.CholeskyDecomposition=bt,D.DistanceMatrix=nt;var vt=D.EVD=dt;D.EigenvalueDecomposition=dt,D.LU=ut,D.LuDecomposition=ut;var Mt=D.Matrix=et;D.MatrixColumnSelectionView=class extends it{constructor(t,e){Q(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,r){return this.matrix.set(t,this.columnIndices[e],r),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}},D.MatrixColumnView=class extends it{constructor(t,e){O(t,e),super(t,t.rows,1),this.column=e}set(t,e,r){return this.matrix.set(t,this.column,r),this}get(t){return this.matrix.get(t,this.column)}},D.MatrixFlipColumnView=class extends it{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(t,this.columns-e-1,r),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}},D.MatrixFlipRowView=class extends it{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(this.rows-t-1,e,r),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}},D.MatrixRowSelectionView=class extends it{constructor(t,e){W(t,e),super(t,e.length,t.columns),this.rowIndices=e}set(t,e,r){return this.matrix.set(this.rowIndices[t],e,r),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}},D.MatrixRowView=class extends it{constructor(t,e){U(t,e),super(t,1,t.columns),this.row=e}set(t,e,r){return this.matrix.set(this.row,e,r),this}get(t,e){return this.matrix.get(this.row,e)}},D.MatrixSelectionView=at,D.MatrixSubView=class extends it{constructor(t,e,r,s,o){Y(t,e,r,s,o),super(t,r-e+1,o-s+1),this.startRow=e,this.startColumn=s}set(t,e,r){return this.matrix.set(this.startRow+t,this.startColumn+e,r),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}};var St=D.MatrixTransposeView=class extends it{constructor(t){super(t,t.columns,t.rows)}set(t,e,r){return this.matrix.set(e,t,r),this}get(t,e){return this.matrix.get(e,t)}},Et=D.NIPALS=xt;D.Nipals=xt,D.QR=ft,D.QrDecomposition=ft;var Rt=D.SVD=mt;D.SingularValueDecomposition=mt,D.SymmetricMatrix=ot,D.WrapperMatrix1D=lt,D.WrapperMatrix2D=ht,D.correlation=function(t,e=t,r={}){t=new et(t);let s=!1;if("object"!=typeof e||et.isMatrix(e)||q.isAnyArray(e)?e=new et(e):(r=e,e=t,s=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:o=!0,scale:n=!0}=r;o&&(t.center("column"),s||e.center("column")),n&&(t.scale("column"),s||e.scale("column"));const i=t.standardDeviation("column",{unbiased:!0}),a=s?i:e.standardDeviation("column",{unbiased:!0}),l=t.transpose().mmul(e);for(let h=0;h<l.rows;h++)for(let e=0;e<l.columns;e++)l.set(h,e,l.get(h,e)*(1/(i[h]*a[e]))*(1/(t.rows-1)));return l},D.covariance=function(t,e=t,r={}){t=new et(t);let s=!1;if("object"!=typeof e||et.isMatrix(e)||q.isAnyArray(e)?e=new et(e):(r=e,e=t,s=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:o=!0}=r;o&&(t=t.center("column"),s||(e=e.center("column")));const n=t.transpose().mmul(e);for(let i=0;i<n.rows;i++)for(let e=0;e<n.columns;e++)n.set(i,e,n.get(i,e)*(1/(t.rows-1)));return n};var kt=D.default=et;D.determinant=function t(e){if((e=et.checkMatrix(e)).isSquare()){if(0===e.columns)return 1;let r,s,o,n;if(2===e.columns)return r=e.get(0,0),s=e.get(0,1),o=e.get(1,0),n=e.get(1,1),r*n-s*o;if(3===e.columns){let n,i,a;return n=new at(e,[1,2],[1,2]),i=new at(e,[1,2],[0,2]),a=new at(e,[1,2],[0,1]),r=e.get(0,0),s=e.get(0,1),o=e.get(0,2),r*t(n)-s*t(i)+o*t(a)}return new ut(e).determinant}throw Error("determinant can only be calculated for a square matrix")},D.inverse=function(t,e=!1){return t=ht.checkMatrix(t),e?new mt(t).inverse():gt(t,et.eye(t.rows))},D.linearDependencies=function(t,e={}){const{thresholdValue:r=1e-9,thresholdError:s=1e-9}=e;let o=(t=et.checkMatrix(t)).rows,n=new et(o,o);for(let i=0;i<o;i++){let e=et.columnVector(t.getRow(i)),a=t.subMatrixRow(wt(o,i)).transpose(),l=new mt(a).solve(e),h=et.sub(e,a.mmul(l)).abs().max();n.setRow(i,pt(h,l,i,r,s))}return n},D.pseudoInverse=function(t,e=Number.EPSILON){if((t=et.checkMatrix(t)).isEmpty())return t.transpose();let r=new mt(t,{autoTranspose:!0}),s=r.leftSingularVectors,o=r.rightSingularVectors,n=r.diagonal;for(let i=0;i<n.length;i++)Math.abs(n[i])>e?n[i]=1/n[i]:n[i]=0;return o.mmul(et.diag(n).mmul(s.transpose()))},D.solve=gt,D.wrap=function(t,e){if(q.isAnyArray(t))return t[0]&&q.isAnyArray(t[0])?new ht(t):new lt(t,e);throw new Error("the argument is not an array")};const At=vt,Tt=Mt,Ct=St,Dt=Et,It=Rt;kt.Matrix&&kt.Matrix;class Nt{constructor(t,e={},r){if(this.U=null,this.S=null,r)return this.center=r.center,this.scale=r.scale,this.means=r.means,this.stdevs=r.stdevs,this.U=Tt.checkMatrix(r.U),this.S=r.S,this.R=r.R,void(this.excludedFeatures=r.excludedFeatures||[]);let s;s=(Array.isArray(t),new Tt(t));const{isCovarianceMatrix:o=!1,method:n="SVD",nCompNIPALS:i=2,center:a=!0,scale:l=!1,ignoreZeroVariance:h=!1}=e;if(this.center=a,this.scale=l,this.means=null,this.stdevs=null,this.excludedFeatures=[],o)this._computeFromCovarianceMatrix(s);else switch(this._adjust(s,h),n){case"covarianceMatrix":{const t=new Ct(s).mmul(s).div(s.rows-1);this._computeFromCovarianceMatrix(t);break}case"NIPALS":this._computeWithNIPALS(s,i);break;case"SVD":{const t=new It(s,{computeLeftSingularVectors:!1,computeRightSingularVectors:!0,autoTranspose:!0});this.U=t.rightSingularVectors;const e=t.diagonal,r=[];for(const o of e)r.push(o*o/(s.rows-1));this.S=r;break}default:throw new Error(`unknown method: ${n}`)}}static load(t){if("string"!=typeof t.name)throw new TypeError("model must have a name property");if("PCA"!==t.name)throw new RangeError(`invalid model: ${t.name}`);return new Nt(void 0,void 0,t)}predict(t,e={}){const{nComponents:r=this.U.columns}=e;let s;if(s=(Array.isArray(t),new Tt(t)),this.center&&(s.subRowVector(this.means),this.scale)){for(let t of this.excludedFeatures)s.removeColumn(t);s.divRowVector(this.stdevs)}let o=s.mmul(this.U);return o.subMatrix(0,o.rows-1,0,r-1)}invert(t){let e=(t=Tt.checkMatrix(t)).mmul(this.U.transpose());return this.center&&(this.scale&&e.mulRowVector(this.stdevs),e.addRowVector(this.means)),e}getExplainedVariance(){let t=0;if(this.S)for(const e of this.S)t+=e;return this.S?this.S.map(e=>e/t):[]}getCumulativeVariance(){let t=this.getExplainedVariance();for(let e=1;e<t.length;e++)t[e]+=t[e-1];return t}getEigenvectors(){return this.U}getEigenvalues(){return this.S}getStandardDeviations(){return this.S.map(t=>Math.sqrt(t))}getLoadings(){return this.U.transpose()}toJSON(){return{name:"PCA",center:this.center,scale:this.scale,means:this.means,stdevs:this.stdevs,U:this.U,S:this.S,excludedFeatures:this.excludedFeatures}}_adjust(t,e){if(this.center){const r=t.mean("column"),s=this.scale?t.standardDeviation("column",{mean:r}):null;if(this.means=r,t.subRowVector(r),this.scale){for(let r=0;r<s.length;r++)if(0===s[r]){if(!e)throw new RangeError(`Cannot scale the dataset (standard deviation is zero at index ${r}`);t.removeColumn(r),s.splice(r,1),this.excludedFeatures.push(r),r--}this.stdevs=s,t.divRowVector(s)}}}_computeFromCovarianceMatrix(t){const e=new At(t,{assumeSymmetric:!0});this.U=e.eigenvectorMatrix,this.U.flipRows(),this.S=e.realEigenvalues,this.S.reverse()}_computeWithNIPALS(t,e){this.U=new Tt(e,t.columns),this.S=[];let r=t;for(let s=0;s<e;s++){let t=new Dt(r);this.U.setRow(s,t.w.transpose()),this.S.push(Math.pow(t.s.get(0,0),2)),r=t.xResidual}this.U=this.U.transpose()}}function Ft(t,e){if(!N(t)||!N(e))throw new TypeError("x and y must be arrays");if(t.length!==e.length)throw new RangeError("x and y arrays must have the same length")}class Vt{constructor(){if(new.target===Vt)throw new Error("BaseRegression must be subclassed")}predict(t){if("number"==typeof t)return this._predict(t);if(N(t)){const e=[];for(const r of t)e.push(this._predict(r));return e}throw new TypeError("x must be a number or array")}_predict(t){throw new Error("_predict must be implemented")}train(){}toString(t){return""}toLaTeX(t){return""}score(t,e){Ft(t,e);const r=t.length,s=new Array(r);for(let f=0;f<r;f++)s[f]=this._predict(t[f]);let o=0,n=0,i=0,a=0,l=0,h=0,u=0;for(let f=0;f<r;f++)o+=s[f],n+=e[f],l+=s[f]*s[f],h+=e[f]*e[f],u+=s[f]*e[f],0!==e[f]&&(i+=(e[f]-s[f])*(e[f]-s[f])/e[f]),a+=(e[f]-s[f])*(e[f]-s[f]);const c=(r*u-o*n)/Math.sqrt((r*l-o*o)*(r*h-n*n));return{r:c,r2:c*c,chi2:i,rmsd:Math.sqrt(a/r)}}}function qt(t,e){return t<0?(t=0-t,"number"==typeof e?`- ${t.toPrecision(e)}`:`- ${t.toString()}`):"number"==typeof e?t.toPrecision(e):t.toString()}class Pt extends Vt{constructor(t,e){if(super(),!0===t){const t=e;this.slope=t.slope,this.intercept=t.intercept,this.coefficients=[t.intercept,t.slope]}else{Ft(t,e);const r=function(t,e){const r=t.length;let s=0,o=0,n=0,i=0;for(let l=0;l<r;l++)s+=t[l],o+=e[l],n+=t[l]*t[l],i+=t[l]*e[l];const a=(r*i-s*o)/(r*n-s*s);return{slope:a,intercept:1/r*o-a*(1/r)*s}}(t,e);this.slope=r.slope,this.intercept=r.intercept,this.coefficients=[r.intercept,r.slope]}}toJSON(){return{name:"simpleLinearRegression",slope:this.slope,intercept:this.intercept}}_predict(t){return this.slope*t+this.intercept}computeX(t){return(t-this.intercept)/this.slope}toString(t){let e="f(x) = ";if(0!==this.slope){const r=qt(this.slope,t);if(e+=("1"===r?"":`${r} * `)+"x",0!==this.intercept){const r=Math.abs(this.intercept);e+=` ${r===this.intercept?"+":"-"} ${qt(r,t)}`}}else e+=qt(this.intercept,t);return e}toLaTeX(t){return this.toString(t)}static load(t){if("simpleLinearRegression"!==t.name)throw new TypeError("not a SLR model");return new Pt(!0,t)}}const _t={class:"linear-regression-container bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 pb-10"},zt={class:"graph-display-section bg-white dark:bg-gray-800 shadow-lg rounded-lg flex flex-col items-center justify-center"},$t={ref:"plotlyGraph",class:"plotly-graph"},jt={class:"graph-options mb-4 w-full px-4"},Lt={key:0,class:"mt-2 flex space-x-2"},Ut={class:"data-input-section bg-white dark:bg-gray-800 shadow-lg rounded-lg"},Ot={class:"mb-4"},Gt={class:"data-table w-full border-collapse rounded-lg overflow-hidden shadow-md"},Bt={class:"bg-blue-600 text-white"},Wt=["onUpdate:modelValue","onBlur","disabled"],Qt=["onUpdate:modelValue"],Yt={class:"mt-4 flex space-x-2"};const Jt=C({name:"LinearRegression",setup(){const t=c(null),e=c(["Target","m2","district"]),r=c([{Target:199e4,m2:104,district:3},{Target:1236e3,m2:134,district:10},{Target:416500,m2:31,district:6},{Target:313500,m2:38,district:10},{Target:15e5,m2:105,district:9},{Target:33e4,m2:30,district:10},{Target:62e4,m2:4,district:6},{Target:259e3,m2:16,district:6},{Target:145e3,m2:15,district:10},{Target:105e4,m2:84,district:7}]),s=c("price,m2,district\n2990000,162,5\n1236000,134,10\n540000,53,2\n995000,90,3\n249000,15,3\n300700,65,5\n826250,111,6\n400000,56,6\n205250,35,7\n147620,17,4\n800000,63,4\n415000,52,5\n139500,10,3\n1668000,161,10\n360000,25,4\n1182000,98,9\n300700,65,5\n495000,31,3\n85000,7,4\n468000,33,8\n850000,71,3\n350000,35,10\n675000,51,6\n735000,105,10\n250000,21,5\n51000,12,9\n1236000,134,10\n245000,24,5\n59900,6,9\n740000,80,10\n499000,51,10\n600000,40,5\n540000,65,10\n135000,9,7\n700000,73,8\n489000,47,10\n15000,14,19\n220000,24,16\n545000,38,6\n29500,12,18\n725000,65,15\n230000,26,18\n259800,31,12\n1600000,118,8\n325000,32,14\n235000,23,15\n286200,34,18\n85000,6,15\n19000,6,5\n238000,24,17\n249000,17,17\n170000,16,11\n999000,95,15\n2950000,194,13\n1477142,157,11\n1150000,98,9\n102000,9,16\n275000,34,19\n1990000,104,3\n1236000,134,10\n416500,31,6\n313500,38,10\n1500000,105,9\n330000,30,10\n620000,4,6\n259000,16,6\n145000,15,10\n1050000,84,7\n375000,39,10\n550000,41,9\n1150000,90,5\n55000,5,10\n550000,43,4\n180000,14,5\n310000,16,6\n945000,66,3\n2400000,126,7\n665600,46,7\n225000,13,7\n340000,30,5\n450000,35,6\n525000,77,10\n807000,73,10\n325000,23,5\n550000,53,3\n1450000,135,9\n310000,40,10\n1300000,139,10\n86000,10,9\n1990000,104,3\n1236000,134,10\n416500,31,6\n313500,38,10\n1500000,105,9\n330000,30,10\n620000,4,6\n259000,16,6\n145000,15,10\n1050000,84,7\n375000,39,10\n550000,41,9\n1150000,90,5\n55000,5,10\n550000,43,4\n180000,14,5\n310000,16,6\n945000,66,3\n2400000,126,7\n665600,46,7\n225000,13,7\n340000,30,5\n450000,35,6\n525000,77,10\n807000,73,10\n325000,23,5\n550000,53,3\n1450000,135,9\n310000,40,10\n1300000,139,10\n86000,10,9\n1990000,104,3\n1236000,134,10\n416500,31,6\n313500,38,10\n1500000,105,9\n330000,30,10\n620000,4,6\n259000,16,6\n145000,15,10\n1050000,84,7\n375000,39,10\n550000,41,9\n1150000,90,5\n55000,5,10\n550000,43,4\n180000,14,5\n310000,16,6\n945000,66,3\n2400000,126,7\n665600,46,7\n225000,13,7\n340000,30,5\n450000,35,6\n525000,77,10\n807000,73,10\n325000,23,5\n550000,53,3\n1450000,135,9\n310000,40,10\n1300000,139,10\n86000,10,9\n1990000,104,3\n1236000,134,10\n416500,31,6\n313500,38,10\n1500000,105,9\n330000,30,10\n620000,4,6\n259000,16,6\n145000,15,10\n1050000,84,7\n375000,39,10\n550000,41,9\n1150000,90,5\n55000,5,10\n679000,67,9\n450000,40,10\n699000,47,7\n330000,22,6\n2200000,123,7\n800000,60,9\n1090000,77,6\n450000,35,6\n525000,77,10\n807000,73,10\n325000,23,5\n550000,53,3\n1450000,135,9\n310000,40,10\n1300000,139,10\n86000,10,9\n1050000,84,7\n375000,39,10\n550000,41,9\n1150000,90,5\n55000,5,10\n679000,67,9\n450000,40,10\n699000,47,7\n330000,22,6\n2200000,123,7\n800000,60,9\n1090000,77,6\n450000,35,6\n525000,77,10\n807000,73,10\n325000,23,5\n550000,53,3\n1450000,135,9\n310000,40,10\n1300000,139,10\n86000,10,9\n1050000,84,7\n375000,39,10\n550000,41,9\n1150000,90,5\n55000,5,10\n679000,67,9\n450000,40,10\n699000,47,7\n330000,22,6\n2200000,123,7\n800000,60,9\n1090000,77,6\n450000,35,6\n525000,77,10\n807000,73,10\n325000,23,5\n550000,53,3\n1450000,135,9\n310000,40,10\n1300000,139,10\n86000,10,9\n1050000,84,7\n375000,39,10\n550000,41,9\n1150000,90,5\n55000,5,10\n679000,67,9\n450000,40,10\n699000,47,7\n330000,22,6\n2200000,123,7\n800000,60,9\n1090000,77,6\n450000,35,6\n525000,77,10\n807000,73,10\n325000,23,5\n550000,53,3\n1450000,135,9\n310000,40,10\n1300000,139,10\n86000,10,9\n1990000,104,3\n1236000,134,10\n416500,31,6\n313500,38,10\n1500000,105,9\n330000,30,10\n620000,4,6\n259000,16,6\n145000,15,10\n1050000,84,7\n375000,39,10\n550000,41,9\n1150000,90,5\n55000,5,10\n550000,43,4\n180000,14,5\n310000,16,6\n945000,66,3\n2400000,126,7\n665600,46,7\n225000,13,7\n340000,30,5\n450000,35,6\n525000,77,10\n807000,73,10\n325000,23,5\n550000,53,3\n1450000,135,9\n310000,40,10\n1300000,139,10\n86000,10,9"),o=c([]),n=c({}),i=c("2d_selected"),a=c(["m2"]),l=c(null),h={1:"#FF6B6B",2:"#4ECDC4",3:"#45B7D1",4:"#96CEB4",5:"#FFEAA7",6:"#DDA0DD",7:"#98D8C8",8:"#F7DC6F",9:"#BB8FCE",10:"#85C1E9",11:"#F8C471",12:"#82E0AA",13:"#F1948A",14:"#76D7C4",15:"#AED6F1",16:"#A9DFBF",17:"#F9E79F",18:"#D2B4DE",19:"#A3E4D7",20:"#FAD7A0"},u=t=>{const e=t.trim().split("\n");if(e.length<2)return alert("Please provide at least a header row and one data row."),{columns:[],tableData:[]};const r=e[0].split(",").map(t=>t.trim().replace(/^"|"$/g,""));let s=[];if(!r.includes("price")||!r.includes("m2")||!r.includes("district"))return alert("CSV must contain 'price', 'm2', and 'district' columns."),{columns:[],tableData:[]};const o=r.map(t=>"price"===t?"Target":t);for(let n=1;n<e.length;n++){const t=e[n].split(",").map(t=>t.trim().replace(/^"|"$/g,""));if(t.length!==r.length){alert(`Row ${n+1} has an incorrect number of values. Skipping row.`);continue}const i={};let a=!0;for(let e=0;e<r.length;e++){const s=o[e],l=parseFloat(t[e]);if(isNaN(l)){alert(`Invalid number in row ${n+1}, column ${r[e]}. Skipping row.`),a=!1;break}i[s]=l}a&&s.push(i)}return{columns:o,tableData:s}},p=t=>{if(!t||!t.points||0===t.points.length)return;const s={};let o=!1;"2d_selected"===i.value?void 0!==t.points[0].x&&void 0!==t.points[0].y&&(s[a.value[0]]=t.points[0].x,s.Target=t.points[0].y,e.value.filter(t=>t!==a.value[0]&&"Target"!==t).forEach(t=>{s[t]=0}),o=!0):"3d_selected"===i.value?void 0!==t.points[0].x&&void 0!==t.points[0].y&&void 0!==t.points[0].z&&(s[a.value[0]]=t.points[0].x,s[a.value[1]]=t.points[0].y,s.Target=t.points[0].z,e.value.filter(t=>t!==a.value[0]&&t!==a.value[1]&&"Target"!==t).forEach(t=>{s[t]=0}),o=!0):alert("Adding points by clicking on the graph is only supported for '2D Selected Columns vs Target' and '3D Selected Columns vs Target' graph types."),o&&r.value.push(s)},d=()=>{o.value=[],n.value={};const s="Target";switch(i.value){case"2d_pca":if(0===r.value.length)return void alert("Please add some data for PCA calculation.");try{const t=r.value.map(t=>e.value.filter(t=>t!==s).map(e=>t[e])),i=new Nt(new Tt(t)).predict(t).to2DArray(),a=i.map(t=>t[0]),l=i.map(t=>t[1]);o.value=[{x:a,y:l,mode:"markers",type:"scatter"}],n.value={title:"2D PCA of Data",xaxis:{title:"Principal Component 1"},yaxis:{title:"Principal Component 2"}}}catch(u){alert("Error performing PCA: "+u.message)}break;case"3d_selected":"m2"===a.value[0]&&"district"===a.value[1]||(a.value=["m2","district"]);{const t=r.value.map(t=>t[a.value[0]]),e=r.value.map(t=>t[a.value[1]]),i=r.value.map(t=>t[s]),l=r.value.map(t=>t.district),u=l.map(t=>(t=>h[t]||"#808080")(t));o.value=[{x:t,y:e,z:i,mode:"markers",type:"scatter3d",marker:{color:u,size:8,opacity:.8,line:{color:"rgba(0,0,0,0.3)",width:1}},text:l.map(t=>`District: ${t}`),hovertemplate:"<b>M2:</b> %{x}<br><b>District:</b> %{y}<br><b>Price:</b> %{z}<br>%{text}<extra></extra>"}],n.value={title:"Selected Features vs Target (3D) - Colored by District",scene:{xaxis:{title:"M2"},yaxis:{title:"District"},zaxis:{title:"Price"}}}}break;case"2d_selected":if(!a.value||0===a.value.length||!e.value.includes(a.value[0])||a.value[0]===s)if(e.value.includes("m2"))a.value=["m2"];else{if(!e.value.includes("district"))return void alert("No valid feature columns (m2 or district) available for 2D plot.");a.value=["district"]}{const t=r.value.map(t=>t[a.value[0]]),i=r.value.map(t=>t[s]);o.value=[{x:t,y:i,mode:"markers",type:"scatter"}];const h=e.value.filter(t=>t!==s)[0];if(l.value&&a.value[0]===h){const e=[Math.min(...t),Math.max(...t)],r=e.map(t=>l.value.predict(t));o.value.push({x:e,y:r,mode:"lines",type:"scatter",name:"Regression Line"})}n.value={title:"Selected Feature vs Target",xaxis:{title:a.value[0]},yaxis:{title:"Price"}}}break;case"2d_all":{const t=e.value.filter(t=>t!==s);o.value=t.map(t=>({x:r.value.map(e=>e[t]),y:r.value.map(t=>t[s]),mode:"markers",type:"scatter",name:t})),n.value={title:"All Features vs Target",xaxis:{title:"Feature Value"},yaxis:{title:"Price"}}}}m(()=>{t.value&&A.newPlot(t.value,o.value,n.value)})};return f(()=>{const o=s.value.trim().split("\n"),n=o[0],i=o.slice(1,11),l=u([n,...i].join("\n"));e.value=l.columns,r.value=l.tableData,e.value.includes("m2")?a.value=["m2"]:e.value.includes("district")?a.value=["district"]:a.value=[],m(()=>{d(),t.value&&t.value.on("plotly_click",p)})}),g(()=>{t.value&&t.value.removeAllListeners("plotly_click")}),w(i,()=>{d()}),{plotlyGraph:t,columns:e,tableData:r,csvInput:s,plotData:o,plotLayout:n,selectedGraphType:i,selectedFeatures:a,regressionModel:l,addRow:()=>{const t={};e.value.forEach(e=>{t[e]=0}),r.value.push(t)},importData:()=>{if(!s.value)return void alert("Please paste CSV data into the textarea.");const t=u(s.value);0!==t.tableData.length?(e.value=t.columns,r.value=t.tableData,e.value.includes("m2")?a.value=["m2"]:e.value.includes("district")?a.value=["district"]:a.value=[],d()):alert("No valid data rows could be imported.")},updateColumnName:(t,s)=>{const o=e.value[t];if("Target"!==o){if(!s||e.value.filter((e,r)=>e===s&&r!==t).length>0)return alert("Column name must be unique and not empty."),void(e.value[t]=o);r.value.forEach(t=>{t.hasOwnProperty(o)&&(t[s]=t[o],delete t[o])}),a.value=a.value.map(t=>t===o?s:t),e.value[t]=s}},fitRegression:()=>{if(0===r.value.length)return void alert("Please add some data to fit the regression.");const t=r.value.map(t=>t[a.value[0]]),e=r.value.map(t=>t.Target);if(t.length!==e.length||t.length<2)alert("Not enough data or mismatch in data for regression. Need at least 2 data points for a single feature.");else try{l.value=new Pt(t,e),d()}catch(s){alert("Error fitting regression: "+s.message)}},selectFeatureFor2D:t=>{i.value="2d_selected",a.value=[t],d()},updateGraph:d}}},[["render",function(t,e,r,s,o,n){return p(),d("div",_t,[y("div",zt,[y("div",$t,null,512),e[12]||(e[12]=y("h2",{class:"text-xl font-semibold mb-4 text-blue-700 dark:text-blue-300"},"Graph Display",-1)),y("div",jt,[e[11]||(e[11]=y("label",{for:"graph-type",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Select Graph Type:",-1)),b(y("select",{id:"graph-type","onUpdate:modelValue":e[0]||(e[0]=t=>s.selectedGraphType=t),onChange:e[1]||(e[1]=(...t)=>s.updateGraph&&s.updateGraph(...t)),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},e[10]||(e[10]=[y("option",{value:"2d_pca"},"2D PCA",-1),y("option",{value:"3d_selected"},"3D Selected Columns vs Target",-1),y("option",{value:"2d_selected"},"2D Selected Columns vs Target",-1),y("option",{value:"2d_all"},"2D All Columns vs Target",-1)]),544),[[x,s.selectedGraphType]]),"2d_selected"===s.selectedGraphType?(p(),d("div",Lt,[y("button",{onClick:e[2]||(e[2]=t=>s.selectFeatureFor2D("m2")),class:v([{"bg-blue-700":"m2"===s.selectedFeatures[0],"bg-blue-500":"m2"!==s.selectedFeatures[0]},"text-white font-bold py-2 px-4 rounded-md shadow-md"])},"2D Plot: m2",2),y("button",{onClick:e[3]||(e[3]=t=>s.selectFeatureFor2D("district")),class:v([{"bg-blue-700":"district"===s.selectedFeatures[0],"bg-blue-500":"district"!==s.selectedFeatures[0]},"text-white font-bold py-2 px-4 rounded-md shadow-md"])},"2D Plot: district",2)])):M("",!0)])]),y("div",Ut,[e[14]||(e[14]=y("h2",{class:"text-xl font-semibold mb-4 text-blue-700 dark:text-blue-300"},"Data Input",-1)),y("div",Ot,[e[13]||(e[13]=y("label",{for:"data-input",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Paste CSV Data Here:",-1)),b(y("textarea",{id:"data-input","onUpdate:modelValue":e[4]||(e[4]=t=>s.csvInput=t),rows:"6",class:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[S,s.csvInput]]),y("button",{onClick:e[5]||(e[5]=(...t)=>s.importData&&s.importData(...t)),class:"mt-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md shadow-md"},"Import Data")]),y("table",Gt,[y("thead",null,[y("tr",Bt,[(p(!0),d(E,null,R(s.columns,(t,r)=>(p(),d("th",{key:t,class:"py-3 px-4 uppercase font-semibold text-sm"},[b(y("input",{"onUpdate:modelValue":t=>s.columns[r]=t,onBlur:t=>s.updateColumnName(r,t.target.value),onKeyup:e[6]||(e[6]=k(t=>t.target.blur(),["enter"])),class:"bg-transparent border-none text-white text-center font-semibold uppercase focus:outline-none",disabled:"Target"===t},null,40,Wt),[[S,s.columns[r]]])]))),128))])]),y("tbody",null,[(p(!0),d(E,null,R(s.tableData,(t,e)=>(p(),d("tr",{key:e,class:"border-b border-gray-200 dark:border-gray-700"},[(p(!0),d(E,null,R(s.columns,(e,r)=>(p(),d("td",{key:r,class:"py-3 px-4"},[b(y("input",{"onUpdate:modelValue":r=>t[e]=r,type:"number",class:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,Qt),[[S,t[e]]])]))),128))]))),128))])]),y("div",Yt,[y("button",{onClick:e[7]||(e[7]=(...t)=>s.addRow&&s.addRow(...t)),class:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-md shadow-md"},"Add Row"),y("button",{onClick:e[8]||(e[8]=(...t)=>s.fitRegression&&s.fitRegression(...t)),class:"bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-md shadow-md"},"Fit Regression"),y("button",{onClick:e[9]||(e[9]=(...t)=>s.updateGraph&&s.updateGraph(...t)),class:"bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-md shadow-md"},"Apply Changes to Graph")])])])}],["__scopeId","data-v-b491a740"]]);export{Jt as default};
